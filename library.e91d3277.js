function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r("h7M65");var a=r("7JhjK"),l=r("8mK9U");function s(e){const t=e.map((({name:e})=>e));return t.length||t.push("Other"),t.length>2?[t[0],t[1],"Other"].join(", "):t.join(", ")}var o=r("CjjGD");function c(e){if(e||e.length)return e.map((({id:e,poster_path:t,title:i,name:n,vote_average:r,original_title:c,genres:d,overview:u,release_date:g,first_air_date:f})=>`<li class="films-list__item" data-id="${e}">\n  <img class="films-list__img" src="${(0,o.default)(t)}" alt="${(0,l.default)(i,n)}" />\n  <div class="film-list__data">\n  <h2 class="films-list__title">${(0,l.default)(c,n)}</h2>\n    <span class="films-list__info films-list__ganre">${s(d)}\n  </span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">${(0,a.default)(g,f)}\n<span class="films-list__info films-rating "> ${r.toFixed(1)}</span></div>\n</li>`)).join("")}var d=r("dekjU");const u={libraryUl:document.querySelector("#library"),BtnWatched:document.querySelector("#watchedFilterBtn"),BtnQueue:document.querySelector("#queueFilterBtn")},g=document.querySelector(".pagination");let f;function m(){if(g.classList.add("hide-pagination"),u.BtnWatched.classList.add("library-filter-btn--active"),u.BtnQueue.classList.remove("library-filter-btn--active"),f=JSON.parse(localStorage.getItem("watched")),!f)return void(u.libraryUl.innerHTML="");const e=f.slice(0,20);u.libraryUl.innerHTML=c(e);const t=Math.ceil(f.length/20);(0,d.default)(1,t)}u.BtnWatched.addEventListener("click",(()=>{if(g.classList.add("hide-pagination"),u.BtnWatched.classList.add("library-filter-btn--active"),u.BtnQueue.classList.remove("library-filter-btn--active"),f=JSON.parse(localStorage.getItem("watched")),!f)return void(u.libraryUl.innerHTML="");const e=f.slice(0,20);u.libraryUl.innerHTML=c(e);const t=Math.ceil(f.length/20);(0,d.default)(1,t)})),u.BtnQueue.addEventListener("click",(()=>{if(g.classList.add("hide-pagination"),u.BtnWatched.classList.remove("library-filter-btn--active"),u.BtnQueue.classList.add("library-filter-btn--active"),f=JSON.parse(localStorage.getItem("queue")),!f)return void(u.libraryUl.innerHTML="");const e=f.slice(0,20);u.libraryUl.innerHTML=c(e);const t=Math.ceil(f.length/20);(0,d.default)(1,t)})),g.addEventListener("click",(e=>{if(""===e.target.innerText||"button"!==e.target.type)return;let t=document.querySelector(".current-btn").innerText;t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText;const i=[],n=20*t-20,r=n+20;for(let e=n;e<r&&f[e];e+=1)i.push(f[e]);u.libraryUl.innerHTML=c(i);const a=Math.ceil(f.length/20);(0,d.default)(parseInt(t),a),window.scrollTo({top:270,behavior:"smooth"})})),r("2sCHQ"),r("c30xx"),r("epvLZ"),r("37wlI");var y=r("eWCmQ"),h=r("25RCP"),p=r("amyG6");const v={modalCloseBtn:document.querySelector(".firebase-close"),backdrop:document.querySelector("[data-firebase]"),form:document.querySelector(".login-form"),showLoginForm:document.querySelector("#login"),login:document.querySelector("[data-login]"),singin:document.querySelector("[data-singin]"),logout:document.querySelector("#logout"),beforeSinginContainer:document.querySelector(".library-filter--logedout"),afterSinginContainer:document.querySelector(".library-filter"),logoutContainer:document.querySelector(".library-filter--logout"),greetingText:document.querySelector(".greetingText"),galleryListItems:document.querySelector(".films-list")};(0,h.initializeApp)({apiKey:"AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I",authDomain:"filmoteka-ee482.firebaseapp.com",projectId:"filmoteka-ee482",storageBucket:"filmoteka-ee482.appspot.com",messagingSenderId:"348964044133",appId:"1:348964044133:web:8806ca37db3ead82b0358c"});const b=(0,p.getAuth)();function L(){v.backdrop.classList.toggle("is-hidden"),v.form.reset()}function S(){e(y).Notify.failure("Error creating user. User exists or database error. Please try again."),console.error("Error creating user. User exists or database error. Please try again.")}localStorage.getItem("status")&&(v.beforeSinginContainer.classList.toggle("visually-hidden"),v.afterSinginContainer&&v.afterSinginContainer.classList.toggle("visually-hidden"),v.logoutContainer.classList.toggle("visually-hidden"),v.greetingText.textContent=`Hello, ${localStorage.getItem("status")}`,v.greetingText.classList.toggle("visually-hidden"),m()),v.modalCloseBtn.addEventListener("click",L),v.showLoginForm.addEventListener("click",L),v.form.addEventListener("submit",(function(t){t.preventDefault();const{elements:{email:i,password:n}}=t.currentTarget,r=i.value,a=n.value;(0,p.signInWithEmailAndPassword)(b,r,a).then((t=>{const i=t.user.email;e(y).Notify.success(`User ${i} logged in.`),v.beforeSinginContainer.classList.toggle("visually-hidden"),v.afterSinginContainer.classList.toggle("visually-hidden"),v.logoutContainer.classList.toggle("visually-hidden"),localStorage.setItem("status",`${r}`),v.form.reset(),L(),v.greetingText.textContent=`Hello, ${r}`,v.greetingText.classList.toggle("visually-hidden"),m()})).catch(S)})),v.singin.addEventListener("click",(function(){const{elements:{email:t,password:i}}=v.form,n=t.value,r=i.value;(0,p.createUserWithEmailAndPassword)(b,n,r).then((t=>{var i=t.user.email;e(y).Notify.success(`User ${i} was successfully created. Now you can log in.`),console.log(`User ${i} was successfully created. Now you can log in.`),v.form.reset(),L()})).catch(S)})),v.logout.addEventListener("click",(function(){(0,p.signOut)(b),e(y).Notify.failure("You are logged out."),v.beforeSinginContainer.classList.toggle("visually-hidden"),v.afterSinginContainer&&v.afterSinginContainer.classList.toggle("visually-hidden");v.logoutContainer.classList.toggle("visually-hidden"),localStorage.removeItem("status"),v.galleryListItems.innerHTML=""})),window.addEventListener("keydown",(function(e){if(v.backdrop.classList.contains("is-hidden"))return;"Escape"===e.code&&L()})),v.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&L()}));
//# sourceMappingURL=library.e91d3277.js.map
