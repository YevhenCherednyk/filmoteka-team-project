var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);var n=a("hsVKb"),s=a("5ogGC"),i=a("1lykM"),o=a("gl5eO");class c{async searchTrendingFilms(){const e=`https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619&page=${this.page}`;try{const t=await fetch(e);return await t.json()}catch(e){console.log(e)}}async searchGenres(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619");return await e.json()}catch(e){console.log(e)}}async fetchMovieSearch(){try{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}&page=${this.page}`);return await e.json()}catch(e){console.log(e)}}GetMovieSearcPath(){return`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}`}GetTrendingSearcPath(){return"https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619"}pageIncrement(){this.page+=1}pageDecrement(){this.page-=1}resetPage(){this.page=1}set currentPage(e){this.page=e}get currentPage(){return this.page}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.page=1,this.searchQuery=""}}const l=new c,u=document.querySelector(".films-list");async function h(){const e=await l.searchGenres(),t=await l.searchTrendingFilms(),r=(0,s.default)(t.results,e);u.innerHTML=r,(0,i.default)(t.page,t.total_pages),o.default.path=l.GetTrendingSearcPath(),n.default.hideSpinner()}window.addEventListener("load",(()=>{n.default.showSpinner(),setTimeout(h,500)}));var d=c;s=a("5ogGC"),n=a("hsVKb"),i=a("1lykM"),o=a("gl5eO");const f={searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),txt:document.querySelector(".errorText")},p=new d;f.txt.textContent;f.txt.textContent=" ",f.searchForm.addEventListener("submit",(async function(e){e.preventDefault();document.querySelector(".pagination").classList.add("hide-pagination"),p.query=e.currentTarget.elements.query.value;const t=await p.searchGenres(),r=await p.fetchMovieSearch();if(function(){f.articlesContainer.innerHTML=""}(),""===p.query||0===r.results.length)return f.txt.style.color="#ff001b",f.txt.textContent="Search result not successful. Enter the correct movie name and try again!",void f.searchForm.reset();f.txt.textContent=" ",n.default.showSpinner(),p.resetPage(),function(e,t){f.articlesContainer.insertAdjacentHTML("beforeend",(0,s.default)(e,t)),n.default.hideSpinner()}(r.results,t),f.searchForm.reset(),f.txt.style.color="green",f.txt.textContent=`Search result for: ${a=p.query,a[0].toUpperCase()+a.slice(1)}`,(0,i.default)(r.page,r.total_pages),o.default.path=p.GetMovieSearcPath();var a})),a("ljYpv"),a("c30xx"),a("jKXAZ"),a("epvLZ"),a("1XfFS");
//# sourceMappingURL=index.f4a77e32.js.map
