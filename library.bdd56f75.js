function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("h7M65");var a=i("8FOny"),l=i("dekjU");const o={libraryUl:document.querySelector("#library"),BtnWatched:document.querySelector("#watchedFilterBtn"),BtnQueue:document.querySelector("#queueFilterBtn")},s=document.querySelector(".pagination");let c;function d(){if(s.classList.add("hide-pagination"),o.BtnWatched.classList.add("library-filter-btn--active"),o.BtnQueue.classList.remove("library-filter-btn--active"),c=JSON.parse(localStorage.getItem("watched")),!c)return void(o.libraryUl.innerHTML="");const e=c.slice(0,20);o.libraryUl.innerHTML=(0,a.default)(e);const t=Math.ceil(c.length/20);(0,l.default)(1,t)}o.BtnWatched.addEventListener("click",(()=>{if(s.classList.add("hide-pagination"),o.BtnWatched.classList.add("library-filter-btn--active"),o.BtnQueue.classList.remove("library-filter-btn--active"),c=JSON.parse(localStorage.getItem("watched")),!c)return void(o.libraryUl.innerHTML="");const e=c.slice(0,20);o.libraryUl.innerHTML=(0,a.default)(e);const t=Math.ceil(c.length/20);(0,l.default)(1,t)})),o.BtnQueue.addEventListener("click",(()=>{if(s.classList.add("hide-pagination"),o.BtnWatched.classList.remove("library-filter-btn--active"),o.BtnQueue.classList.add("library-filter-btn--active"),c=JSON.parse(localStorage.getItem("queue")),!c)return void(o.libraryUl.innerHTML="");const e=c.slice(0,20);o.libraryUl.innerHTML=(0,a.default)(e);const t=Math.ceil(c.length/20);(0,l.default)(1,t)})),s.addEventListener("click",(e=>{if(""===e.target.innerText||"button"!==e.target.type)return;let t=document.querySelector(".current-btn").innerText;t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText;const n=[],r=20*t-20,i=r+20;for(let e=r;e<i&&c[e];e+=1)n.push(c[e]);o.libraryUl.innerHTML=(0,a.default)(n);const s=Math.ceil(c.length/20);(0,l.default)(parseInt(t),s),window.scrollTo({top:270,behavior:"smooth"})})),i("2sCHQ"),i("c30xx"),i("epvLZ"),i("37wlI");var u=i("eWCmQ"),g=i("25RCP"),f=i("amyG6");const y={modalCloseBtn:document.querySelector(".firebase-close"),backdrop:document.querySelector("[data-firebase]"),form:document.querySelector(".login-form"),showLoginForm:document.querySelector("#login"),login:document.querySelector("[data-login]"),singin:document.querySelector("[data-singin]"),logout:document.querySelector("#logout"),beforeSinginContainer:document.querySelector(".library-filter--logedout"),afterSinginContainer:document.querySelector(".library-filter"),logoutContainer:document.querySelector(".library-filter--logout"),greetingText:document.querySelector(".greetingText"),galleryListItems:document.querySelector(".films-list")};(0,g.initializeApp)({apiKey:"AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I",authDomain:"filmoteka-ee482.firebaseapp.com",projectId:"filmoteka-ee482",storageBucket:"filmoteka-ee482.appspot.com",messagingSenderId:"348964044133",appId:"1:348964044133:web:8806ca37db3ead82b0358c"});const m=(0,f.getAuth)();function h(){y.backdrop.classList.toggle("is-hidden"),y.form.reset()}function v(){e(u).Notify.failure("Error creating user. User exists or database error. Please try again."),console.error("Error creating user. User exists or database error. Please try again.")}localStorage.getItem("status")&&(y.beforeSinginContainer.classList.toggle("visually-hidden"),y.afterSinginContainer&&y.afterSinginContainer.classList.toggle("visually-hidden"),y.logoutContainer.classList.toggle("visually-hidden"),y.greetingText.textContent=`Hello, ${localStorage.getItem("status")}`,y.greetingText.classList.toggle("visually-hidden"),d()),y.modalCloseBtn.addEventListener("click",h),y.showLoginForm.addEventListener("click",h),y.form.addEventListener("submit",(function(t){t.preventDefault();const{elements:{email:n,password:r}}=t.currentTarget,i=n.value,a=r.value;(0,f.signInWithEmailAndPassword)(m,i,a).then((t=>{const n=t.user.email;e(u).Notify.success(`User ${n} logged in.`),y.beforeSinginContainer.classList.toggle("visually-hidden"),y.afterSinginContainer.classList.toggle("visually-hidden"),y.logoutContainer.classList.toggle("visually-hidden"),localStorage.setItem("status",`${i}`),y.form.reset(),h(),y.greetingText.textContent=`Hello, ${i}`,y.greetingText.classList.toggle("visually-hidden"),d()})).catch(v)})),y.singin.addEventListener("click",(function(){const{elements:{email:t,password:n}}=y.form,r=t.value,i=n.value;(0,f.createUserWithEmailAndPassword)(m,r,i).then((t=>{var n=t.user.email;e(u).Notify.success(`User ${n} was successfully created. Now you can log in.`),console.log(`User ${n} was successfully created. Now you can log in.`),y.form.reset(),h()})).catch(v)})),y.logout.addEventListener("click",(function(){(0,f.signOut)(m),e(u).Notify.failure("You are logged out."),y.beforeSinginContainer.classList.toggle("visually-hidden"),y.afterSinginContainer&&y.afterSinginContainer.classList.toggle("visually-hidden");y.logoutContainer.classList.toggle("visually-hidden"),localStorage.removeItem("status"),y.galleryListItems.innerHTML=""})),window.addEventListener("keydown",(function(e){if(y.backdrop.classList.contains("is-hidden"))return;"Escape"===e.code&&h()})),y.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&h()}));
//# sourceMappingURL=library.bdd56f75.js.map
