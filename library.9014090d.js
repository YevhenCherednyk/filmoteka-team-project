!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("bho0P");var a,l=i("jwgCr"),o=i("3RyMV"),s={libraryUl:document.querySelector("#library"),BtnWatched:document.querySelector("#watchedFilterBtn"),BtnQueue:document.querySelector("#queueFilterBtn")},c=document.querySelector(".pagination"),d=20;function u(){if(c.classList.add("hide-pagination"),s.BtnWatched.classList.add("library-filter-btn--active"),s.BtnQueue.classList.remove("library-filter-btn--active"),a=JSON.parse(localStorage.getItem("watched"))){var e=a.slice(0,d);s.libraryUl.innerHTML=(0,l.default)(e);var t=Math.ceil(a.length/d);(0,o.default)(1,t)}else s.libraryUl.innerHTML=""}s.BtnWatched.addEventListener("click",(function(){if(c.classList.add("hide-pagination"),s.BtnWatched.classList.add("library-filter-btn--active"),s.BtnQueue.classList.remove("library-filter-btn--active"),a=JSON.parse(localStorage.getItem("watched"))){var e=a.slice(0,d);s.libraryUl.innerHTML=(0,l.default)(e);var t=Math.ceil(a.length/d);(0,o.default)(1,t)}else s.libraryUl.innerHTML=""})),s.BtnQueue.addEventListener("click",(function(){if(c.classList.add("hide-pagination"),s.BtnWatched.classList.remove("library-filter-btn--active"),s.BtnQueue.classList.add("library-filter-btn--active"),a=JSON.parse(localStorage.getItem("queue"))){var e=a.slice(0,d);s.libraryUl.innerHTML=(0,l.default)(e);var t=Math.ceil(a.length/d);(0,o.default)(1,t)}else s.libraryUl.innerHTML=""})),c.addEventListener("click",(function(e){if(""!==e.target.innerText&&"button"===e.target.type){for(var t=document.querySelector(".current-btn").innerText,r=[],n=(t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText)*d-d,i=n+d,c=n;c<i&&a[c];c+=1)r.push(a[c]);s.libraryUl.innerHTML=(0,l.default)(r);var u=Math.ceil(a.length/d);(0,o.default)(parseInt(t),u),window.scrollTo({top:270,behavior:"smooth"})}})),i("3W8lk"),i("cSw8k"),i("ab49T"),i("hQlzp");var g=i("iU1Pc"),f=i("6Urw1"),y=i("3SEMc"),m={modalCloseBtn:document.querySelector(".firebase-close"),backdrop:document.querySelector("[data-firebase]"),form:document.querySelector(".login-form"),showLoginForm:document.querySelector("#login"),login:document.querySelector("[data-login]"),singin:document.querySelector("[data-singin]"),logout:document.querySelector("#logout"),beforeSinginContainer:document.querySelector(".library-filter--logedout"),afterSinginContainer:document.querySelector(".library-filter"),logoutContainer:document.querySelector(".library-filter--logout"),greetingText:document.querySelector(".greetingText"),galleryListItems:document.querySelector(".films-list")};(0,f.initializeApp)({apiKey:"AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I",authDomain:"filmoteka-ee482.firebaseapp.com",projectId:"filmoteka-ee482",storageBucket:"filmoteka-ee482.appspot.com",messagingSenderId:"348964044133",appId:"1:348964044133:web:8806ca37db3ead82b0358c"});var v=(0,y.getAuth)();function b(){m.backdrop.classList.toggle("is-hidden"),m.form.reset()}function h(){e(g).Notify.failure("Error creating user. User exists or database error. Please try again."),console.error("Error creating user. User exists or database error. Please try again.")}localStorage.getItem("status")&&(m.beforeSinginContainer.classList.toggle("visually-hidden"),m.afterSinginContainer&&m.afterSinginContainer.classList.toggle("visually-hidden"),m.logoutContainer.classList.toggle("visually-hidden"),m.greetingText.textContent="Hello, ".concat(localStorage.getItem("status")),m.greetingText.classList.toggle("visually-hidden"),u()),m.modalCloseBtn.addEventListener("click",b),m.showLoginForm.addEventListener("click",b),m.form.addEventListener("submit",(function(t){t.preventDefault();var r=t.currentTarget.elements,n=r.email,i=r.password,a=n.value,l=i.value;(0,y.signInWithEmailAndPassword)(v,a,l).then((function(t){var r=t.user.email;e(g).Notify.success("User ".concat(r," logged in.")),m.beforeSinginContainer.classList.toggle("visually-hidden"),m.afterSinginContainer.classList.toggle("visually-hidden"),m.logoutContainer.classList.toggle("visually-hidden"),localStorage.setItem("status","".concat(a)),m.form.reset(),b(),m.greetingText.textContent="Hello, ".concat(a),m.greetingText.classList.toggle("visually-hidden"),u()})).catch(h)})),m.singin.addEventListener("click",(function(){var t=m.form.elements,r=t.email,n=t.password,i=r.value,a=n.value;(0,y.createUserWithEmailAndPassword)(v,i,a).then((function(t){var r=t.user.email;e(g).Notify.success("User ".concat(r," was successfully created. Now you can log in.")),console.log("User ".concat(r," was successfully created. Now you can log in.")),m.form.reset(),b()})).catch(h)})),m.logout.addEventListener("click",(function(){(0,y.signOut)(v),e(g).Notify.failure("You are logged out."),m.beforeSinginContainer.classList.toggle("visually-hidden"),m.afterSinginContainer&&m.afterSinginContainer.classList.toggle("visually-hidden");m.logoutContainer.classList.toggle("visually-hidden"),localStorage.removeItem("status"),m.galleryListItems.innerHTML=""})),window.addEventListener("keydown",(function(e){if(m.backdrop.classList.contains("is-hidden"))return;"Escape"===e.code&&b()})),m.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&b()}))}();
//# sourceMappingURL=library.9014090d.js.map
