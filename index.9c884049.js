var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}var n={showSpinner:function(){document.querySelector(".spinner-backdrop").classList.add("is-open")},hideSpinner:function(){document.querySelector(".spinner-backdrop").classList.remove("is-open")}};function r(t,e){return t||e}function o(t,e){const n=[];for(let r of e){let e=t.genres.find((t=>t.id===r));null!=e&&n.push(e.name)}return 0===n.length&&n.push("Other"),n.length>3?[n[0],n[1],"Other"].join(", "):n.join(", ")}function i(t,e){return t.map((({id:t,title:n,name:i,genre_ids:s,release_date:a,first_air_date:u,poster_path:c="../images/сard-films/movie-poster-coming-soon.jpg"})=>{return`<li class="films-list__item" data-id="${t}">\n                    <img class="films-list__img" src="https://image.tmdb.org/t/p/w500${c}" alt="${r(n,i)}" />\n                    <h2 class="films-list__title">${r(n,i)}</h2>\n                    <span class="films-list__info films-list__ganre">${o(e,s)}</span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">${f=a,l=u,f?f.slice(0,4):l.slice(0,4)}</span>\n            </li>`;var f,l})).join("")}var s=function(t,e){let n=[];for(let r=1;r<=e;r+=1){const e=document.createElement("button");e.type="button",e.innerText=r,e.classList.add("pagination__btn"),r===t&&e.classList.add("current-btn"),n.push(e)}a.innerHTML="",a.append(...n)};const a=document.querySelector(".pagination");var u=function(t){let e=[];for(let n=1;n<=9;n+=1){const r=document.createElement("button");r.type="button",r.innerText=n,r.classList.add("pagination__btn"),n===t&&r.classList.add("current-btn"),e.push(r)}const n=document.createElement("img");n.src="./arrow-right.svg",n.alt="Forward",n.classList.add("img-arrow"),n.width="16",n.height="16";const r=document.createElement("button");r.innerText="+1",r.type="button",r.classList.add("btn-arrow"),r.append(n),e.push(r),c.innerHTML="",c.append(...e)};const c=document.querySelector(".pagination");var f=function(t,e){let n=[];const r=document.createElement("img");r.src="./arrow-left.svg",r.alt="Back",r.classList.add("img-arrow"),r.width="16",r.height="16";const o=document.createElement("button");o.innerText="-1",o.type="button",o.classList.add("btn-arrow"),o.append(r),n.push(o);const i=document.createElement("button");i.type="button",i.innerText=1,i.classList.add("pagination__btn"),n.push(i);const s=document.createElement("p");s.innerText="...",s.classList.add("inner-dotes");const a=document.createElement("div");a.classList.add("dotes"),a.append(s),n.push(a);const u=document.createElement("button");u.type="button",u.innerText=t-2,u.classList.add("pagination__btn"),n.push(u);const c=document.createElement("button");c.type="button",c.innerText=t-1,c.classList.add("pagination__btn"),n.push(c);const f=document.createElement("button");f.type="button",f.innerText=t,f.classList.add("pagination__btn"),f.classList.add("current-btn"),n.push(f);const h=document.createElement("button");h.type="button",h.innerText=t+1,h.classList.add("pagination__btn"),n.push(h);const d=document.createElement("button");d.type="button",d.innerText=t+2,d.classList.add("pagination__btn"),n.push(d);const p=document.createElement("p");p.innerText="...",p.classList.add("inner-dotes");const g=document.createElement("div");g.classList.add("dotes"),g.append(p),n.push(g);const m=document.createElement("button");m.type="button",m.innerText=e,m.classList.add("pagination__btn"),n.push(m);const y=document.createElement("img");y.src="./arrow-right.svg",y.alt="Forward",y.classList.add("img-arrow"),y.width="16",y.height="16";const b=document.createElement("button");b.innerText="+1",b.type="button",b.classList.add("btn-arrow"),b.append(y),n.push(b),l.innerHTML="",l.append(...n)};const l=document.querySelector(".pagination");var h=function(t,e){let n=[];const r=document.createElement("img");r.src="./arrow-left.svg",r.alt="Back",r.classList.add("img-arrow"),r.width="16",r.height="16";const o=document.createElement("button");o.innerText="-1",o.type="button",o.classList.add("btn-arrow"),o.append(r),n.push(o);for(let r=9;r>=1;r-=1){const o=document.createElement("button");o.type="button",o.innerText=e-r+1,o.classList.add("pagination__btn"),e-r+1===t&&o.classList.add("current-btn"),n.push(o)}d.innerHTML="",d.append(...n)};const d=document.querySelector(".pagination");var p=function(t,e){if(e<=10)return s(t,e),void g.classList.remove("hide-pagination");if(e>10&&t<5)return u(t),void g.classList.remove("hide-pagination");if(e>10&&t>=5&&e-t>=5)return f(t,e),void g.classList.remove("hide-pagination");if(e>10&&t>=5&&e-t<5)return h(t,e),void g.classList.remove("hide-pagination")};const g=document.querySelector(".pagination");class m{async searchTrendingFilms(){const t=`https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619&page=${this.page}`;try{const e=await fetch(t);return await e.json()}catch(t){console.log(t)}}async searchGenres(){try{const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619");return await t.json()}catch(t){console.log(t)}}async fetchMovieSearch(){try{const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}&page=${this.page}`);return await t.json()}catch(t){console.log(t)}}pageIncrement(){this.page+=1}pageDecrement(){this.page-=1}resetPage(){this.page=1}set currentPage(t){this.page=t}get currentPage(){return this.page}get query(){return this.searchQuery}set query(t){this.searchQuery=t}constructor(){this.page=1,this.searchQuery=""}}const y=new m,b=document.querySelector(".films-list");async function w(){const t=await y.searchGenres(),e=await y.searchTrendingFilms();console.log(e),console.log(t);const r=i(e.results,t);b.innerHTML=r,p(e.page,e.total_pages),n.hideSpinner()}window.addEventListener("load",(()=>{n.showSpinner(),setTimeout(w,500)}));var E=m;const v={searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),errorText:document.querySelector(".errorText")},O=new E;v.errorText.textContent;v.searchForm.addEventListener("submit",(async function(t){if(t.preventDefault(),O.query=t.currentTarget.elements.query.value,""===O.query)return alert("Enter films name");v.articlesContainer.innerHTML="",n.showSpinner(),O.resetPage();const e=await O.searchGenres();!function(t,e){v.articlesContainer.insertAdjacentHTML("beforeend",i(t,e)),n.hideSpinner()}((await O.fetchMovieSearch()).results,e)}));var A,S,_,B,R={};function T(t,e){return function(){return t.apply(e,arguments)}}A=R,S="default",_=function(){return ot},B=function(t){return ot=t},Object.defineProperty(A,S,{get:_,set:B,enumerable:!0,configurable:!0});const{toString:L}=Object.prototype,{getPrototypeOf:U}=Object,x=(C=Object.create(null),t=>{const e=L.call(t);return C[e]||(C[e]=e.slice(8,-1).toLowerCase())});var C;const j=t=>(t=t.toLowerCase(),e=>x(e)===t),I=t=>e=>typeof e===t,{isArray:N}=Array,P=I("undefined");const k=j("ArrayBuffer");const F=I("string"),D=I("function"),M=I("number"),q=t=>null!==t&&"object"==typeof t,$=t=>{if("object"!==x(t))return!1;const e=U(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},z=j("Date"),J=j("File"),H=j("Blob"),V=j("FileList"),K=j("URLSearchParams");function G(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,o;if("object"!=typeof t&&(t=[t]),N(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let s;for(r=0;r<i;r++)s=o[r],e.call(null,t[s],s,t)}}function W(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const Y="undefined"==typeof self?void 0===t?void 0:t:self,Q=t=>!P(t)&&t!==Y;const X=(Z="undefined"!=typeof Uint8Array&&U(Uint8Array),t=>Z&&t instanceof Z);var Z;const tt=j("HTMLFormElement"),et=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),nt=j("RegExp"),rt=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};G(n,((n,o)=>{!1!==e(n,o,t)&&(r[o]=n)})),Object.defineProperties(t,r)};var ot={isArray:N,isArrayBuffer:k,isBuffer:function(t){return null!==t&&!P(t)&&null!==t.constructor&&!P(t.constructor)&&D(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{const e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||L.call(t)===e||D(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&k(t.buffer),e},isString:F,isNumber:M,isBoolean:t=>!0===t||!1===t,isObject:q,isPlainObject:$,isUndefined:P,isDate:z,isFile:J,isBlob:H,isRegExp:nt,isFunction:D,isStream:t=>q(t)&&D(t.pipe),isURLSearchParams:K,isTypedArray:X,isFileList:V,forEach:G,merge:function t(){const{caseless:e}=Q(this)&&this||{},n={},r=(r,o)=>{const i=e&&W(n,o)||o;$(n[i])&&$(r)?n[i]=t(n[i],r):$(r)?n[i]=t({},r):N(r)?n[i]=r.slice():n[i]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&G(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:r}={})=>(G(e,((e,r)=>{n&&D(e)?t[r]=T(e,n):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],r&&!r(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==n&&U(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:x,kindOfTest:j,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(N(t))return t;let e=t.length;if(!M(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:tt,hasOwnProperty:et,hasOwnProp:et,reduceDescriptors:rt,freezeMethods:t=>{rt(t,((e,n)=>{if(D(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];D(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return N(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:W,global:Y,isContextDefined:Q,toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(q(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=N(t)?[]:{};return G(t,((t,e)=>{const i=n(t,r+1);!P(i)&&(o[e]=i)})),e[r]=void 0,o}}return t};return n(t,0)}};function it(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}R.default.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.default.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const st=it.prototype,at={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{at[t]={value:t}})),Object.defineProperties(it,at),Object.defineProperty(st,"isAxiosError",{value:!0}),it.from=(t,e,n,r,o,i)=>{const s=Object.create(st);return R.default.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),it.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};var ut,ct,ft,lt=it,ht=e("object"==typeof self?self.FormData:window.FormData);ct=function(t){var e,n,r=vt(t),o=r[0],i=r[1],s=new yt(function(t,e,n){return 3*(e+n)/4-n}(0,o,i)),a=0,u=i>0?o-4:o;for(n=0;n<u;n+=4)e=mt[t.charCodeAt(n)]<<18|mt[t.charCodeAt(n+1)]<<12|mt[t.charCodeAt(n+2)]<<6|mt[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===i&&(e=mt[t.charCodeAt(n)]<<2|mt[t.charCodeAt(n+1)]>>4,s[a++]=255&e);1===i&&(e=mt[t.charCodeAt(n)]<<10|mt[t.charCodeAt(n+1)]<<4|mt[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},ft=function(t){for(var e,n=t.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(Ot(t,s,s+i>a?a:s+i));1===r?(e=t[n-1],o.push(gt[e>>2]+gt[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(gt[e>>10]+gt[e>>4&63]+gt[e<<2&63]+"="));return o.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var dt,pt,gt=[],mt=[],yt="undefined"!=typeof Uint8Array?Uint8Array:Array,bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wt=0,Et=bt.length;wt<Et;++wt)gt[wt]=bt[wt],mt[bt.charCodeAt(wt)]=wt;function vt(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function Ot(t,e,n){for(var r,o,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(gt[(o=r)>>18&63]+gt[o>>12&63]+gt[o>>6&63]+gt[63&o]);return i.join("")}mt["-".charCodeAt(0)]=62,mt["_".charCodeAt(0)]=63,dt=function(t,e,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?o-1:0,h=n?-1:1,d=t[e+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+t[e+l],l+=h,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},pt=function(t,e,n,r,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,o),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g};const At="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ut=_t;function St(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,_t.prototype),e}function _t(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return Tt(t)}return Bt(t,e,n)}function Bt(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!_t.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|Ct(t,e);let r=St(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(le(t,Uint8Array)){const e=new Uint8Array(t);return Ut(e.buffer,e.byteOffset,e.byteLength)}return Lt(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(le(t,ArrayBuffer)||t&&le(t.buffer,ArrayBuffer))return Ut(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(le(t,SharedArrayBuffer)||t&&le(t.buffer,SharedArrayBuffer)))return Ut(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return _t.from(r,e,n);const o=function(t){if(_t.isBuffer(t)){const e=0|xt(t.length),n=St(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||he(t.length)?St(0):Lt(t);if("Buffer"===t.type&&Array.isArray(t.data))return Lt(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return _t.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function Rt(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Tt(t){return Rt(t),St(t<0?0:0|xt(t))}function Lt(t){const e=t.length<0?0:0|xt(t.length),n=St(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function Ut(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,_t.prototype),r}function xt(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function Ct(t,e){if(_t.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||le(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return ue(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ce(t).length;default:if(o)return r?-1:ue(t).length;e=(""+e).toLowerCase(),o=!0}}function jt(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Vt(this,e,n);case"utf8":case"utf-8":return zt(this,e,n);case"ascii":return Jt(this,e,n);case"latin1":case"binary":return Ht(this,e,n);case"base64":return $t(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kt(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function It(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Nt(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),he(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=_t.from(e,r)),_t.isBuffer(e))return 0===e.length?-1:Pt(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Pt(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function Pt(t,e,n,r,o){let i,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let r=-1;for(i=n;i<a;i++)if(c(t,i)===c(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(c(t,i+r)!==c(e,r)){n=!1;break}if(n)return i}return-1}function kt(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(he(r))return s;t[n+s]=r}return s}function Ft(t,e,n,r){return fe(ue(e,t.length-n),t,n,r)}function Dt(t,e,n,r){return fe(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function Mt(t,e,n,r){return fe(ce(e),t,n,r)}function qt(t,e,n,r){return fe(function(t,e){let n,r,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function $t(t,e,n){return 0===e&&n===t.length?ft(t):ft(t.slice(e,n))}function zt(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,r,a,u;switch(s){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(i=u));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=t[o+1],r=t[o+2],a=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(t){const e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}_t.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),_t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_t.prototype,"parent",{enumerable:!0,get:function(){if(_t.isBuffer(this))return this.buffer}}),Object.defineProperty(_t.prototype,"offset",{enumerable:!0,get:function(){if(_t.isBuffer(this))return this.byteOffset}}),_t.poolSize=8192,_t.from=function(t,e,n){return Bt(t,e,n)},Object.setPrototypeOf(_t.prototype,Uint8Array.prototype),Object.setPrototypeOf(_t,Uint8Array),_t.alloc=function(t,e,n){return function(t,e,n){return Rt(t),t<=0?St(t):void 0!==e?"string"==typeof n?St(t).fill(e,n):St(t).fill(e):St(t)}(t,e,n)},_t.allocUnsafe=function(t){return Tt(t)},_t.allocUnsafeSlow=function(t){return Tt(t)},_t.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==_t.prototype},_t.compare=function(t,e){if(le(t,Uint8Array)&&(t=_t.from(t,t.offset,t.byteLength)),le(e,Uint8Array)&&(e=_t.from(e,e.offset,e.byteLength)),!_t.isBuffer(t)||!_t.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},_t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_t.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return _t.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=_t.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(le(e,Uint8Array))o+e.length>r.length?(_t.isBuffer(e)||(e=_t.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!_t.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},_t.byteLength=Ct,_t.prototype._isBuffer=!0,_t.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)It(this,e,e+1);return this},_t.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)It(this,e,e+3),It(this,e+1,e+2);return this},_t.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)It(this,e,e+7),It(this,e+1,e+6),It(this,e+2,e+5),It(this,e+3,e+4);return this},_t.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?zt(this,0,t):jt.apply(this,arguments)},_t.prototype.toLocaleString=_t.prototype.toString,_t.prototype.equals=function(t){if(!_t.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===_t.compare(this,t)},_t.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},At&&(_t.prototype[At]=_t.prototype.inspect),_t.prototype.compare=function(t,e,n,r,o){if(le(t,Uint8Array)&&(t=_t.from(t,t.offset,t.byteLength)),!_t.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(i,s),u=this.slice(r,o),c=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==c[t]){i=u[t],s=c[t];break}return i<s?-1:s<i?1:0},_t.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},_t.prototype.indexOf=function(t,e,n){return Nt(this,t,e,n,!0)},_t.prototype.lastIndexOf=function(t,e,n){return Nt(this,t,e,n,!1)},_t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return kt(this,t,e,n);case"utf8":case"utf-8":return Ft(this,t,e,n);case"ascii":case"latin1":case"binary":return Dt(this,t,e,n);case"base64":return Mt(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qt(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},_t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Jt(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function Ht(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function Vt(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=de[t[r]];return o}function Kt(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function Gt(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function Wt(t,e,n,r,o,i){if(!_t.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function Yt(t,e,n,r,o){oe(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function Qt(t,e,n,r,o){oe(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function Xt(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Zt(t,e,n,r,o){return e=+e,n>>>=0,o||Xt(t,0,n,4),pt(t,e,n,r,23,4),n+4}function te(t,e,n,r,o){return e=+e,n>>>=0,o||Xt(t,0,n,8),pt(t,e,n,r,52,8),n+8}_t.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,_t.prototype),r},_t.prototype.readUintLE=_t.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||Gt(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},_t.prototype.readUintBE=_t.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||Gt(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},_t.prototype.readUint8=_t.prototype.readUInt8=function(t,e){return t>>>=0,e||Gt(t,1,this.length),this[t]},_t.prototype.readUint16LE=_t.prototype.readUInt16LE=function(t,e){return t>>>=0,e||Gt(t,2,this.length),this[t]|this[t+1]<<8},_t.prototype.readUint16BE=_t.prototype.readUInt16BE=function(t,e){return t>>>=0,e||Gt(t,2,this.length),this[t]<<8|this[t+1]},_t.prototype.readUint32LE=_t.prototype.readUInt32LE=function(t,e){return t>>>=0,e||Gt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},_t.prototype.readUint32BE=_t.prototype.readUInt32BE=function(t,e){return t>>>=0,e||Gt(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},_t.prototype.readBigUInt64LE=pe((function(t){ie(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||se(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),_t.prototype.readBigUInt64BE=pe((function(t){ie(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||se(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),_t.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||Gt(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},_t.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||Gt(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},_t.prototype.readInt8=function(t,e){return t>>>=0,e||Gt(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},_t.prototype.readInt16LE=function(t,e){t>>>=0,e||Gt(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},_t.prototype.readInt16BE=function(t,e){t>>>=0,e||Gt(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},_t.prototype.readInt32LE=function(t,e){return t>>>=0,e||Gt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},_t.prototype.readInt32BE=function(t,e){return t>>>=0,e||Gt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},_t.prototype.readBigInt64LE=pe((function(t){ie(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||se(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),_t.prototype.readBigInt64BE=pe((function(t){ie(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||se(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),_t.prototype.readFloatLE=function(t,e){return t>>>=0,e||Gt(t,4,this.length),dt(this,t,!0,23,4)},_t.prototype.readFloatBE=function(t,e){return t>>>=0,e||Gt(t,4,this.length),dt(this,t,!1,23,4)},_t.prototype.readDoubleLE=function(t,e){return t>>>=0,e||Gt(t,8,this.length),dt(this,t,!0,52,8)},_t.prototype.readDoubleBE=function(t,e){return t>>>=0,e||Gt(t,8,this.length),dt(this,t,!1,52,8)},_t.prototype.writeUintLE=_t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){Wt(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},_t.prototype.writeUintBE=_t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){Wt(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},_t.prototype.writeUint8=_t.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,1,255,0),this[e]=255&t,e+1},_t.prototype.writeUint16LE=_t.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},_t.prototype.writeUint16BE=_t.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},_t.prototype.writeUint32LE=_t.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},_t.prototype.writeUint32BE=_t.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},_t.prototype.writeBigUInt64LE=pe((function(t,e=0){return Yt(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),_t.prototype.writeBigUInt64BE=pe((function(t,e=0){return Qt(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),_t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);Wt(this,t,e,n,r-1,-r)}let o=0,i=1,s=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},_t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);Wt(this,t,e,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},_t.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},_t.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},_t.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},_t.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},_t.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||Wt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},_t.prototype.writeBigInt64LE=pe((function(t,e=0){return Yt(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),_t.prototype.writeBigInt64BE=pe((function(t,e=0){return Qt(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),_t.prototype.writeFloatLE=function(t,e,n){return Zt(this,t,e,!0,n)},_t.prototype.writeFloatBE=function(t,e,n){return Zt(this,t,e,!1,n)},_t.prototype.writeDoubleLE=function(t,e,n){return te(this,t,e,!0,n)},_t.prototype.writeDoubleBE=function(t,e,n){return te(this,t,e,!1,n)},_t.prototype.copy=function(t,e,n,r){if(!_t.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},_t.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!_t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=_t.isBuffer(t)?t:_t.from(t,r),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%s]}return this};const ee={};function ne(t,e,n){ee[t]=class extends n{get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}}}function re(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function oe(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new ee.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){ie(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||se(e,t.length-(n+1))}(r,o,i)}function ie(t,e){if("number"!=typeof t)throw new ee.ERR_INVALID_ARG_TYPE(e,"number",t)}function se(t,e,n){if(Math.floor(t)!==t)throw ie(t,n),new ee.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new ee.ERR_BUFFER_OUT_OF_BOUNDS;throw new ee.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}ne("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),ne("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),ne("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=re(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=re(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const ae=/[^+/0-9A-Za-z-_]/g;function ue(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function ce(t){return ct(function(t){if((t=(t=t.split("=")[0]).trim().replace(ae,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function fe(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function le(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function he(t){return t!=t}const de=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function pe(t){return"undefined"==typeof BigInt?ge:t}function ge(){throw new Error("BigInt not supported")}var me=ut;function ye(t){return R.default.isPlainObject(t)||R.default.isArray(t)}function be(t){return R.default.endsWith(t,"[]")?t.slice(0,-2):t}function we(t,e,n){return t?t.concat(e).map((function(t,e){return t=be(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const Ee=R.default.toFlatObject(R.default,{},null,(function(t){return/^is[A-Z]/.test(t)}));var ve=function(t,e,n){if(!R.default.isObject(t))throw new TypeError("target must be an object");e=e||new(ht||FormData);const r=(n=R.default.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!R.default.isUndefined(e[t])}))).metaTokens,o=n.visitor||f,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&((u=e)&&R.default.isFunction(u.append)&&"FormData"===u[Symbol.toStringTag]&&u[Symbol.iterator]);var u;if(!R.default.isFunction(o))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(R.default.isDate(t))return t.toISOString();if(!a&&R.default.isBlob(t))throw new lt("Blob is not supported. Use a Buffer instead.");return R.default.isArrayBuffer(t)||R.default.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):me.from(t):t}function f(t,n,o){let a=t;if(t&&!o&&"object"==typeof t)if(R.default.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(R.default.isArray(t)&&function(t){return R.default.isArray(t)&&!t.some(ye)}(t)||R.default.isFileList(t)||R.default.endsWith(n,"[]")&&(a=R.default.toArray(t)))return n=be(n),a.forEach((function(t,r){!R.default.isUndefined(t)&&null!==t&&e.append(!0===s?we([n],r,i):null===s?n:n+"[]",c(t))})),!1;return!!ye(t)||(e.append(we(o,n,i),c(t)),!1)}const l=[],h=Object.assign(Ee,{defaultVisitor:f,convertValue:c,isVisitable:ye});if(!R.default.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!R.default.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),R.default.forEach(n,(function(n,i){!0===(!(R.default.isUndefined(n)||null===n)&&o.call(e,n,R.default.isString(i)?i.trim():i,r,h))&&t(n,r?r.concat(i):[i])})),l.pop()}}(t),e};function Oe(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Ae(t,e){this._pairs=[],t&&ve(t,this,e)}const Se=Ae.prototype;Se.append=function(t,e){this._pairs.push([t,e])},Se.toString=function(t){const e=t?function(e){return t.call(this,e,Oe)}:Oe;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var _e=Ae;function Be(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Re(t,e,n){if(!e)return t;const r=n&&n.encode||Be,o=n&&n.serialize;let i;if(i=o?o(e,n):R.default.isURLSearchParams(e)?e.toString():new _e(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}var Te=class{use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.default.forEach(this.handlers,(function(e){null!==e&&t(e)}))}constructor(){this.handlers=[]}},Le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ue="undefined"!=typeof URLSearchParams?URLSearchParams:_e,xe=FormData;const Ce=(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})();var je={isBrowser:!0,classes:{URLSearchParams:Ue,FormData:xe,Blob:Blob},isStandardBrowserEnv:Ce,protocols:["http","https","file","blob","url","data"]};function Ie(t,e){return ve(t,new je.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return je.isNode&&R.default.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}var Ne=function(t){function e(t,n,r,o){let i=t[o++];const s=Number.isFinite(+i),a=o>=t.length;if(i=!i&&R.default.isArray(r)?r.length:i,a)return R.default.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&R.default.isObject(r[i])||(r[i]=[]);return e(t,n,r[i],o)&&R.default.isArray(r[i])&&(r[i]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}(r[i])),!s}if(R.default.isFormData(t)&&R.default.isFunction(t.entries)){const n={};return R.default.forEachEntry(t,((t,r)=>{e(function(t){return R.default.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const Pe={"Content-Type":void 0};const ke={transitional:Le,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=R.default.isObject(t);o&&R.default.isHTMLForm(t)&&(t=new FormData(t));if(R.default.isFormData(t))return r&&r?JSON.stringify(Ne(t)):t;if(R.default.isArrayBuffer(t)||R.default.isBuffer(t)||R.default.isStream(t)||R.default.isFile(t)||R.default.isBlob(t))return t;if(R.default.isArrayBufferView(t))return t.buffer;if(R.default.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ie(t,this.formSerializer).toString();if((i=R.default.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return ve(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(R.default.isString(t))try{return(e||JSON.parse)(t),R.default.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ke.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&R.default.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw lt.from(t,lt.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.default.forEach(["delete","get","head"],(function(t){ke.headers[t]={}})),R.default.forEach(["post","put","patch"],(function(t){ke.headers[t]=R.default.merge(Pe)}));var Fe=ke;const De=R.default.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Me=t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&De[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e};const qe=Symbol("internals");function $e(t){return t&&String(t).trim().toLowerCase()}function ze(t){return!1===t||null==t?t:R.default.isArray(t)?t.map(ze):String(t)}function Je(t,e,n,r){return R.default.isFunction(r)?r.call(this,e,n):R.default.isString(e)?R.default.isString(r)?-1!==e.indexOf(r):R.default.isRegExp(r)?r.test(e):void 0:void 0}let He=Symbol.iterator,Ve=Symbol.toStringTag;class Ke{set(t,e,n){const r=this;function o(t,e,n){const o=$e(e);if(!o)throw new Error("header name must be a non-empty string");const i=R.default.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=ze(t))}const i=(t,e)=>R.default.forEach(t,((t,n)=>o(t,n,e)));return R.default.isPlainObject(t)||t instanceof this.constructor?i(t,e):R.default.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z]+$/.test(t.trim())?i(Me(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=$e(t)){const n=R.default.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(R.default.isFunction(e))return e.call(this,t,n);if(R.default.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=$e(t)){const n=R.default.findKey(this,t);return!(!n||e&&!Je(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=$e(t)){const o=R.default.findKey(n,t);!o||e&&!Je(0,n[o],o,e)||(delete n[o],r=!0)}}return R.default.isArray(t)?t.forEach(o):o(t),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const e=this,n={};return R.default.forEach(this,((r,o)=>{const i=R.default.findKey(n,o);if(i)return e[i]=ze(r),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete e[o],e[s]=ze(r),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return R.default.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&R.default.isArray(n)?n.join(", "):n)})),e}[He](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Ve](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[qe]=this[qe]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=$e(t);e[r]||(!function(t,e){const n=R.default.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[r]=!0)}return R.default.isArray(t)?t.forEach(r):r(t),this}constructor(t){t&&this.set(t)}}Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),R.default.freezeMethods(Ke.prototype),R.default.freezeMethods(Ke);var Ge=Ke;function We(t,e){const n=this||Fe,r=e||n,o=Ge.from(r.headers);let i=r.data;return R.default.forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function Ye(t){return!(!t||!t.__CANCEL__)}function Qe(t,e,n){lt.call(this,null==t?"canceled":t,lt.ERR_CANCELED,e,n),this.name="CanceledError"}R.default.inherits(Qe,lt,{__CANCEL__:!0});var Xe=Qe;function Ze(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}var tn=je.isStandardBrowserEnv?{write:function(t,e,n,r,o,i){const s=[];s.push(t+"="+encodeURIComponent(e)),R.default.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),R.default.isString(r)&&s.push("path="+r),R.default.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function en(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function nn(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?en(t,e):e}var rn=je.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=R.default.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function on(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var sn=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=r[s];o||(o=u),n[i]=a,r[i]=u;let f=s,l=0;for(;f!==i;)l+=n[f++],f%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const h=c&&u-c;return h?Math.round(1e3*l/h):void 0}};function an(t,e){let n=0;const r=sn(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,u=r(a);n=i;const c={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&i<=s?(s-i)/u:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}const un={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const o=Ge.from(t.headers).normalize(),i=t.responseType;let s;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}R.default.isFormData(r)&&je.isStandardBrowserEnv&&o.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const c=nn(t.baseURL,t.url);function f(){if(!u)return;const r=Ge.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());Ze((function(t){e(t),a()}),(function(t){n(t),a()}),{data:i&&"text"!==i&&"json"!==i?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:t,request:u}),u=null}if(u.open(t.method.toUpperCase(),Re(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new lt("Request aborted",lt.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new lt("Network Error",lt.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||Le;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new lt(e,r.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,t,u)),u=null},je.isStandardBrowserEnv){const e=(t.withCredentials||rn(c))&&t.xsrfCookieName&&tn.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in u&&R.default.forEach(o.toJSON(),(function(t,e){u.setRequestHeader(e,t)})),R.default.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),i&&"json"!==i&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",an(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",an(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{u&&(n(!e||e.type?new Xe(null,t,u):e),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const l=on(c);l&&-1===je.protocols.indexOf(l)?n(new lt("Unsupported protocol "+l+":",lt.ERR_BAD_REQUEST,t)):u.send(r||null)}))}};R.default.forEach(un,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));var cn={getAdapter:t=>{t=R.default.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=R.default.isString(n)?un[n.toLowerCase()]:n));o++);if(!r){if(!1===r)throw new lt(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(R.default.hasOwnProp(un,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!R.default.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:un};function fn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xe}function ln(t){fn(t),t.headers=Ge.from(t.headers),t.data=We.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return cn.getAdapter(t.adapter||Fe.adapter)(t).then((function(e){return fn(t),e.data=We.call(t,t.transformResponse,e),e.headers=Ge.from(e.headers),e}),(function(e){return Ye(e)||(fn(t),e&&e.response&&(e.response.data=We.call(t,t.transformResponse,e.response),e.response.headers=Ge.from(e.response.headers))),Promise.reject(e)}))}const hn=t=>t instanceof Ge?t.toJSON():t;function dn(t,e){e=e||{};const n={};function r(t,e,n){return R.default.isPlainObject(t)&&R.default.isPlainObject(e)?R.default.merge.call({caseless:n},t,e):R.default.isPlainObject(e)?R.default.merge({},e):R.default.isArray(e)?e.slice():e}function o(t,e,n){return R.default.isUndefined(e)?R.default.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!R.default.isUndefined(e))return r(void 0,e)}function s(t,e){return R.default.isUndefined(e)?R.default.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const u={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>o(hn(t),hn(e),!0)};return R.default.forEach(Object.keys(t).concat(Object.keys(e)),(function(r){const i=u[r]||o,s=i(t[r],e[r],r);R.default.isUndefined(s)&&i!==a||(n[r]=s)})),n}const pn={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{pn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const gn={};pn.transitional=function(t,e,n){function r(t,e){return"[Axios v1.2.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new lt(r(o," has been removed"+(e?" in "+e:"")),lt.ERR_DEPRECATED);return e&&!gn[o]&&(gn[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};var mn={assertOptions:function(t,e,n){if("object"!=typeof t)throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const e=t[i],n=void 0===e||s(e,i,t);if(!0!==n)throw new lt("option "+i+" must be "+n,lt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new lt("Unknown option "+i,lt.ERR_BAD_OPTION)}},validators:pn};const yn=mn.validators;class bn{request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=dn(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;let i;void 0!==n&&mn.assertOptions(n,{silentJSONParsing:yn.transitional(yn.boolean),forcedJSONParsing:yn.transitional(yn.boolean),clarifyTimeoutError:yn.transitional(yn.boolean)},!1),void 0!==r&&mn.assertOptions(r,{encode:yn.function,serialize:yn.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase(),i=o&&R.default.merge(o.common,o[e.method]),i&&R.default.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=Ge.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let f,l=0;if(!a){const t=[ln.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,u),f=t.length,c=Promise.resolve(e);l<f;)c=c.then(t[l++],t[l++]);return c}f=s.length;let h=e;for(l=0;l<f;){const t=s[l++],e=s[l++];try{h=t(h)}catch(t){e.call(this,t);break}}try{c=ln.call(this,h)}catch(t){return Promise.reject(t)}for(l=0,f=u.length;l<f;)c=c.then(u[l++],u[l++]);return c}getUri(t){return Re(nn((t=dn(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}constructor(t){this.defaults=t,this.interceptors={request:new Te,response:new Te}}}R.default.forEach(["delete","get","head","options"],(function(t){bn.prototype[t]=function(e,n){return this.request(dn(n||{},{method:t,url:e,data:(n||{}).data}))}})),R.default.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(dn(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}bn.prototype[t]=e(),bn.prototype[t+"Form"]=e(!0)}));var wn=bn;class En{throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new En((function(e){t=e})),cancel:t}}constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new Xe(t,r,o),e(n.reason))}))}}var vn=En;const On=function t(e){const n=new wn(e),r=T(wn.prototype.request,n);return R.default.extend(r,wn.prototype,n,{allOwnKeys:!0}),R.default.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(dn(e,n))},r}(Fe);On.Axios=wn,On.CanceledError=Xe,On.CancelToken=vn,On.isCancel=Ye,On.VERSION="1.2.0",On.toFormData=ve,On.AxiosError=lt,On.Cancel=On.CanceledError,On.all=function(t){return Promise.all(t)},On.spread=function(t){return function(e){return t.apply(null,e)}},On.isAxiosError=function(t){return R.default.isObject(t)&&!0===t.isAxiosError},On.AxiosHeaders=Ge,On.formToJSON=t=>Ne(R.default.isHTMLForm(t)?new FormData(t):t),On.default=On;var An=On;const{Axios:Sn,AxiosError:_n,CanceledError:Bn,isCancel:Rn,CancelToken:Tn,VERSION:Ln,all:Un,Cancel:xn,isAxiosError:Cn,spread:jn,toFormData:In,AxiosHeaders:Nn,formToJSON:Pn}=An;var kn={fetchMovieDetails:async function(t){const e=`movie/${t}?api_key=19011014b9b53c4fd496d37c25f2b619`;return await An.get(`https://api.themoviedb.org/3/${e}`).then((t=>t.data))}};const Fn={filmList:document.querySelector(".films-list"),backdrop:document.querySelector("[data-modal]"),modal:document.querySelector(".modal_movie"),modalCloseBtn:document.querySelector("button.btn-close")};let Dn={};function Mn(t){console.error("Oops")}function qn(){document.body.classList.toggle("modal-is-open"),Fn.backdrop.classList.toggle("is-hidden")}console.log("(синхр код) спочатку dataMovie: ",Dn),Fn.filmList.addEventListener("click",(function(t){if("LI"!==t.target.parentElement.nodeName)return;const e=t.target.parentElement.dataset.id;kn.fetchMovieDetails(e).then((t=>{var e;e=function(t){const{poster_path:e,title:n,vote_average:r,vote_count:o,popularity:i,original_title:s,genres:a,overview:u}=t,c=[];for(const t of a)c.push(t.name);return`\n    <div class="modal_posterbox">\n      <img\n        class="modal_poster"\n        src="https://image.tmdb.org/t/p/w500${e}"\n        alt="${n}"\n        width="375"\n        height="478"\n      />\n    </div>\n    <div class="modal-info">\n      <h2 class="modal-info_title">${n}</h2>\n      <table class="modal-info_table">\n        <tr>\n          <th>Vote / Votes</th>\n          <td><span class="modal-table_vote">${r}</span> / ${o}</td>\n        </tr>\n        <tr>\n          <th>Popularity</th>\n          <td>${i}</td>\n        </tr>\n        <tr>\n          <th>Original Title</th>\n          <td class="uppercase">${s}</td>\n        </tr>\n        <tr>\n          <th>Genre</th>\n          <td>${c.join(", ")}</td>\n        </tr>\n      </table>\n      <h3 class="modal-info_about">About</h3>\n      <p>${u}</p>\n      <div class="modal_btnbox">\n          <button id="watched" class="modal_btn" type="button">\n            add to Watched\n          </button>\n          <button id="queue" class="modal_btn" type="button">\n            add to Queue\n          </button>\n        </div>\n    </div>\n  `}(t),Fn.modal.innerHTML=e,function(t){Dn=t,console.log(Dn)}(t)})).catch(Mn),qn(),console.log("(синхр код) зараз dataMovie: ",Dn),setTimeout((()=>{console.log("(асинхр код) тепер dataMovie: ",Dn)}),1e3)})),Fn.modalCloseBtn.addEventListener("click",qn);const $n={modalCloseBtn:document.querySelector("[data-modal-close]"),modalOpenBtn:document.querySelector("#open-modal-team"),backdrop:document.querySelector("#team-modal")};function zn(){document.body.classList.toggle("modal-is-open"),$n.backdrop.classList.toggle("is-hidden")}$n.modalOpenBtn.addEventListener("click",zn),$n.modalCloseBtn.addEventListener("click",zn);const Jn={id:436270,adult:!1,backdrop_path:"/bQXAqRx2Fgc46uCVWgoPz5L5Dtr.jpg",belongs_to_collection:null,budget:2e8,genres:[{id:28,name:"Action"},{id:14,name:"Fantasy"},{id:878,name:"Science Fiction"}],homepage:"https://www.dc.com/BlackAdam",id:436270,imdb_id:"tt6443346",original_language:"en",original_title:"Black Adam",overview:"Nearly 5,000 years after he was bestowed with the almighty powers of the Egyptian gods—and imprisoned just as quickly—Black Adam is freed from his earthly tomb, ready to unleash his unique form of justice on the modern world.",popularity:15075.276,poster_path:"/pFlaoHTZeyNkG83vxsAJiGzfSsa.jpg",production_companies:[{id:12,logo_path:"/iaYpEp3LQmb8AfAtmTvpqd4149c.png",name:"New Line Cinema",origin_country:"US"},{id:34081,logo_path:null,name:"Flynn Picture Company",origin_country:"US"},{id:73669,logo_path:"/7tmSGstK3KwgcDIuBYLTAayjit9.png",name:"Seven Bucks Productions",origin_country:"US"},{id:128064,logo_path:"/13F3Jf7EFAcREU0xzZqJnVnyGXu.png",name:"DC Films",origin_country:"US"}],production_countries:[{iso_3166_1:"US",name:"United States of America"}],release_date:"2022-10-19",revenue:368e6,runtime:125,spoken_languages:[{english_name:"Danish",iso_639_1:"da",name:"Dansk"},{english_name:"English",iso_639_1:"en",name:"English"}],status:"Released",tagline:"The world needed a hero. It got Black Adam.",title:"Black Adam",video:!1,vote_average:7.258,vote_count:1951},Hn=document.querySelector("#watched"),Vn=document.querySelector("#queue");Hn.addEventListener("click",Gn),Vn.addEventListener("click",Gn),watched_KEY="watched movie",queue_KEY="queue movie";let Kn=[];function Gn(){const t=event.target.id;let e=localStorage.getItem(t);if(e=JSON.parse(e),console.log(e),e)return console.log("є історія"),e.push(Jn),console.log(e),void localStorage.setItem(t,JSON.stringify(e));Kn.push(Jn),console.log(Kn),localStorage.setItem(t,JSON.stringify(Kn)),Kn=[]}
//# sourceMappingURL=index.9c884049.js.map
