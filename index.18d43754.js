function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n);var s=n("hsVKb"),i=n("7JhjK"),o=n("8mK9U");function c(e,t){const r=[];if(!t)return"Other";for(let a of t){let t=e.genres.find((e=>e.id===a));null!=t&&r.push(t.name)}return 0===r.length&&r.push("Other"),r.length>3?[r[0],r[1],"Other"].join(", "):r.join(", ")}var l=n("CjjGD");function u(e,t){return e.map((({id:e,title:r,name:a,genre_ids:n,release_date:s,first_air_date:u,poster_path:d})=>`<li class="films-list__item" data-id="${e}">\n                    <img class="films-list__img" src="${(0,l.default)(d)}" alt="${(0,o.default)(r,a)}" />\n                    <div class="film-list__data">\n                    <h2 class="films-list__title">${(0,o.default)(r,a)}</h2>\n                    <span class="films-list__info films-list__ganre">${c(t,n)}</span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">${(0,i.default)(s,u)}</span></div>\n        </li>`)).join("")}var d=n("dekjU");const h=new class{get path(){return this.requst}set path(e){this.requst=e}constructor(){this.requst=""}};h.path="https://api.themoviedb.org/3/trending/movie/week?api_key=19011014b9b53c4fd496d37c25f2b619";var f=h;class p{async searchTrendingFilms(){const e=`https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619&page=${this.page}`;try{const t=await fetch(e);return await t.json()}catch(e){console.log(e)}}async searchGenres(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619");return await e.json()}catch(e){console.log(e)}}async fetchMovieSearch(){try{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}&page=${this.page}`);return await e.json()}catch(e){console.log(e)}}GetMovieSearcPath(){return`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}`}GetTrendingSearcPath(){return"https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619"}pageIncrement(){this.page+=1}pageDecrement(){this.page-=1}resetPage(){this.page=1}set currentPage(e){this.page=e}get currentPage(){return this.page}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.page=1,this.searchQuery=""}}const g=new p,m=document.querySelector(".films-list");async function y(){const e=await g.searchGenres(),t=await g.searchTrendingFilms(),r=u(t.results,e);m.innerHTML=r,(0,d.default)(t.page,t.total_pages),f.path=g.GetTrendingSearcPath(),s.default.hideSpinner()}window.addEventListener("load",(()=>{s.default.showSpinner(),setTimeout(y,500)}));var v=p;s=n("hsVKb"),d=n("dekjU");const b={searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),txt:document.querySelector(".errorText")},_=new v;b.txt.textContent;b.txt.textContent=" ",b.searchForm.addEventListener("submit",(async function(e){e.preventDefault();document.querySelector(".pagination").classList.add("hide-pagination"),_.query=e.currentTarget.elements.query.value;const t=await _.searchGenres(),r=await _.fetchMovieSearch();if(function(){b.articlesContainer.innerHTML=""}(),""===_.query||0===r.results.length)return b.txt.style.color="#ff001b",b.txt.textContent="Search result not successful. Enter the correct movie name and try again!",void b.searchForm.reset();b.txt.textContent=" ",s.default.showSpinner(),_.resetPage(),function(e,t){b.articlesContainer.insertAdjacentHTML("beforeend",u(e,t)),s.default.hideSpinner()}(r.results,t),b.searchForm.reset(),b.txt.style.color="green",b.txt.textContent=`Search result for: ${a=_.query,a[0].toUpperCase()+a.slice(1)}`,(0,d.default)(r.page,r.total_pages),f.path=_.GetMovieSearcPath();var a})),n("37wlI");d=n("dekjU");var w=n("eWCmQ"),x=n("2shzp");var q=async function(t){try{return(await x.default.get(t)).data}catch(t){return void e(w).Notify.error(t)}};const S=document.querySelector(".films-list");var T=async function(e,t){const r=await q(`${e}&page=${t}`),a=await q("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619"),n=await u(r.results,a);S.innerHTML=n,(0,d.default)(r.page,r.total_pages),window.scrollTo({top:270,behavior:"smooth"})};document.querySelector(".pagination").addEventListener("click",(e=>{if(""===e.target.innerText||"button"!==e.target.type)return;let t=document.querySelector(".current-btn").innerText;t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText,T(f.path,t)})),n("c30xx"),n("h7M65"),n("epvLZ"),n("2sCHQ");
//# sourceMappingURL=index.18d43754.js.map
