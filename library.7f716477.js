function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("h7M65"),i("1HrY8"),i("2sCHQ"),i("c30xx"),i("epvLZ"),i("37wlI");var r=i("1HrY8"),a=i("eWCmQ"),l=i("25RCP"),s=i("amyG6");const c={modalCloseBtn:document.querySelector(".firebase-close"),backdrop:document.querySelector("[data-firebase]"),form:document.querySelector(".login-form"),showLoginForm:document.querySelector("#login"),login:document.querySelector("[data-login]"),singin:document.querySelector("[data-singin]"),logout:document.querySelector("#logout"),beforeSinginContainer:document.querySelector(".library-filter--logedout"),afterSinginContainer:document.querySelector(".library-filter"),logoutContainer:document.querySelector(".library-filter--logout"),greetingText:document.querySelector(".greetingText"),galleryListItems:document.querySelector(".films-list")};(0,l.initializeApp)({apiKey:"AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I",authDomain:"filmoteka-ee482.firebaseapp.com",projectId:"filmoteka-ee482",storageBucket:"filmoteka-ee482.appspot.com",messagingSenderId:"348964044133",appId:"1:348964044133:web:8806ca37db3ead82b0358c"});const d=(0,s.getAuth)();function u(){c.backdrop.classList.toggle("is-hidden"),c.form.reset()}function g(){e(a).Notify.failure("Error creating user. User exists or database error. Please try again."),console.error("Error creating user. User exists or database error. Please try again.")}localStorage.getItem("status")&&(c.beforeSinginContainer.classList.toggle("visually-hidden"),c.afterSinginContainer&&c.afterSinginContainer.classList.toggle("visually-hidden"),c.logoutContainer.classList.toggle("visually-hidden"),c.greetingText.textContent=`Hello, ${localStorage.getItem("status")}`,c.greetingText.classList.toggle("visually-hidden"),(0,r.onWindowLoad)()),c.modalCloseBtn.addEventListener("click",u),c.showLoginForm.addEventListener("click",u),c.form.addEventListener("submit",(function(t){t.preventDefault();const{elements:{email:o,password:n}}=t.currentTarget,i=o.value,l=n.value;(0,s.signInWithEmailAndPassword)(d,i,l).then((t=>{const o=t.user.email;e(a).Notify.success(`User ${o} logged in.`),c.beforeSinginContainer.classList.toggle("visually-hidden"),c.afterSinginContainer.classList.toggle("visually-hidden"),c.logoutContainer.classList.toggle("visually-hidden"),localStorage.setItem("status",`${i}`),c.form.reset(),u(),c.greetingText.textContent=`Hello, ${i}`,c.greetingText.classList.toggle("visually-hidden"),(0,r.onWindowLoad)()})).catch(g)})),c.singin.addEventListener("click",(function(){const{elements:{email:t,password:o}}=c.form,n=t.value,i=o.value;(0,s.createUserWithEmailAndPassword)(d,n,i).then((t=>{var o=t.user.email;e(a).Notify.success(`User ${o} was successfully created. Now you can log in.`),console.log(`User ${o} was successfully created. Now you can log in.`),c.form.reset(),u()})).catch(g)})),c.logout.addEventListener("click",(function(){(0,s.signOut)(d),e(a).Notify.failure("You are logged out."),c.beforeSinginContainer.classList.toggle("visually-hidden"),c.afterSinginContainer&&c.afterSinginContainer.classList.toggle("visually-hidden");c.logoutContainer.classList.toggle("visually-hidden"),localStorage.removeItem("status"),c.galleryListItems.innerHTML=""})),window.addEventListener("keydown",(function(e){if(c.backdrop.classList.contains("is-hidden"))return;"Escape"===e.code&&u()})),c.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&u()}));
//# sourceMappingURL=library.7f716477.js.map
