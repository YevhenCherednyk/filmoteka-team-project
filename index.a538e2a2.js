function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var s=a("hsVKb"),i=a("7JhjK"),o=a("8mK9U");function c(e,t){const r=[];if(!t)return"Other";for(let n of t){let t=e.genres.find((e=>e.id===n));null!=t&&r.push(t.name)}return 0===r.length&&r.push("Other"),r.length>3?[r[0],r[1],"Other"].join(", "):r.join(", ")}var l=a("CjjGD");function u(e,t){return e.map((({id:e,title:r,name:n,genre_ids:a,release_date:s,first_air_date:u,poster_path:d})=>`<li class="films-list__item" data-id="${e}">\n                    <img class="films-list__img" src="${(0,l.default)(d)}" alt="${(0,o.default)(r,n)}" />\n                    <h2 class="films-list__title">${(0,o.default)(r,n)}</h2>\n                    <span class="films-list__info films-list__ganre">${c(t,a)}</span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">${(0,i.default)(s,u)}</span>\n            </li>`)).join("")}var d=a("1lykM");const h=new class{get path(){return this.requst}set path(e){this.requst=e}constructor(){this.requst=""}};h.path="https://api.themoviedb.org/3/trending/movie/week?api_key=19011014b9b53c4fd496d37c25f2b619";var f=h;class p{async searchTrendingFilms(){const e=`https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619&page=${this.page}`;try{const t=await fetch(e);return await t.json()}catch(e){console.log(e)}}async searchGenres(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619");return await e.json()}catch(e){console.log(e)}}async fetchMovieSearch(){try{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}&page=${this.page}`);return await e.json()}catch(e){console.log(e)}}GetMovieSearcPath(){return`https://api.themoviedb.org/3/search/movie?api_key=19011014b9b53c4fd496d37c25f2b619&query=${this.searchQuery}`}GetTrendingSearcPath(){return"https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619"}pageIncrement(){this.page+=1}pageDecrement(){this.page-=1}resetPage(){this.page=1}set currentPage(e){this.page=e}get currentPage(){return this.page}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.page=1,this.searchQuery=""}}const g=new p,m=document.querySelector(".films-list");async function y(){const e=await g.searchGenres(),t=await g.searchTrendingFilms(),r=u(t.results,e);m.innerHTML=r,(0,d.default)(t.page,t.total_pages),f.path=g.GetTrendingSearcPath(),s.default.hideSpinner()}window.addEventListener("load",(()=>{s.default.showSpinner(),setTimeout(y,500)}));var b=p;s=a("hsVKb"),d=a("1lykM");const v={searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),txt:document.querySelector(".errorText")},w=new b;v.txt.textContent;v.txt.textContent=" ",v.searchForm.addEventListener("submit",(async function(e){e.preventDefault();document.querySelector(".pagination").classList.add("hide-pagination"),w.query=e.currentTarget.elements.query.value;const t=await w.searchGenres(),r=await w.fetchMovieSearch();if(function(){v.articlesContainer.innerHTML=""}(),""===w.query||0===r.results.length)return v.txt.style.color="#ff001b",v.txt.textContent="Search result not successful. Enter the correct movie name and try again!",void v.searchForm.reset();v.txt.textContent=" ",s.default.showSpinner(),w.resetPage(),function(e,t){v.articlesContainer.insertAdjacentHTML("beforeend",u(e,t)),s.default.hideSpinner()}(r.results,t),v.searchForm.reset(),v.txt.style.color="green",v.txt.textContent=`Search result for: ${n=w.query,n[0].toUpperCase()+n.slice(1)}`,(0,d.default)(r.page,r.total_pages),f.path=w.GetMovieSearcPath();var n})),a("37wlI");d=a("1lykM");var _=a("eWCmQ"),x=a("2shzp");var q=async function(t){try{return(await x.default.get(t)).data}catch(t){return void e(_).Notify.error(t)}};const S=document.querySelector(".films-list");var T=async function(e,t){const r=await q(`${e}&page=${t}`),n=await q("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619"),a=await u(r.results,n);S.innerHTML=a,(0,d.default)(r.page,r.total_pages),window.scrollTo({top:270,behavior:"smooth"})};document.querySelector(".pagination").addEventListener("click",(e=>{if(""===e.target.innerText||"button"!==e.target.type)return;let t=document.querySelector(".current-btn").innerText;t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText,T(f.path,t)})),a("c30xx"),a("jKXAZ"),a("epvLZ"),a("1XfFS");
//# sourceMappingURL=index.a538e2a2.js.map
