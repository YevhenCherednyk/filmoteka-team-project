!function(){var e={body:document.querySelector("body"),backdropMovie:document.querySelector("[data-modal='movie']"),modalCloseBtnMovie:document.querySelector("[data-modalCloseBtn='movie']"),backdropTeam:document.querySelector("[data-modal='team']"),modalOpenBtnTeam:document.querySelector("[data-modalOpenBtn='team']"),modalCloseBtnTeam:document.querySelector("[data-modalCloseBtn='team']")};function t(){e.body.classList.toggle("modal-is-open"),e.backdropTeam.classList.toggle("is-hidden")}function n(e){e.currentTarget===e.target&&i()}function i(){e.body.classList.remove("modal-is-open"),e.backdropTeam.classList.add("is-hidden"),e.backdropMovie.classList.add("is-hidden")}function a(e,t){return e?e.slice(0,4):t?t.slice(0,4):"Coming soon! :)"}function s(e,t){return e||(t||"The best film in your life! :)")}window.addEventListener("keydown",(function(e){if(!document.body.classList.contains("modal-is-open"))return;"Escape"===e.code&&i()})),e.backdropMovie.addEventListener("click",n),e.modalCloseBtnMovie.addEventListener("click",(function(){e.body.classList.toggle("modal-is-open"),e.backdropMovie.classList.toggle("is-hidden")})),e.backdropTeam.addEventListener("click",n),e.modalOpenBtnTeam.addEventListener("click",t),e.modalCloseBtnTeam.addEventListener("click",t);var o={libraryUl:document.querySelector("#library"),BtnWatched:document.querySelector("#watched"),BtnQueue:document.querySelector("#queue")},l=localStorage.getItem("watched"),c=localStorage.getItem("queue");function d(){var e=JSON.parse(l);if(console.log(e),e&&e.length)return e.map((function(e){var t=e.id,n=e.poster_path,i=e.title,o=e.name,l=e.vote_average,c=e.original_title,d=e.genres,r=(e.overview,e.release_date),u=e.first_air_date;return'<li class="films-list__item" data-id="'.concat(t,'">\n  <img class="films-list__img" src="https://image.tmdb.org/t/p/w500').concat(n,'" alt="').concat(s(i,o),'" />\n  <h2 class="films-list__title">').concat(s(c,o),'</h2>\n    <span class="films-list__info films-list__ganre">').concat(m(d),'\n  </span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">').concat(a(r,u),'\n<span class="films-list__info films-rating "> ').concat(l.toFixed(1),"</span>\n</li>")})).join("")}function r(){var e=JSON.parse(c);if(console.log(watched),e&&e.length)return e.map((function(e){var t=e.id,n=e.poster_path,i=e.title,o=e.name,l=e.vote_average,c=e.original_title,d=e.genres,r=(e.overview,e.release_date),u=e.first_air_date;return'<li class="films-list__item" data-id="'.concat(t,'">\n  <img class="films-list__img" src="https://image.tmdb.org/t/p/w500').concat(n,'" alt="').concat(s(i,o),'" />\n  <h2 class="films-list__title">').concat(s(c,o),'</h2>\n    <span class="films-list__info films-list__ganre">').concat(m(d),'\n  </span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">').concat(a(r,u),'\n<span class="films-list__info films-rating "> ').concat(l.toFixed(1),"</span>\n</li>")})).join("")}function m(e){var t=e.map((function(e){return e.name}));return 0===t.length&&t.push("Other"),t.length>2?[t[0],t[1],"Other"].join(", "):t.join(", ")}function u(e){o.libraryUl.innerHTML=e}o.BtnWatched.addEventListener("click",(function(){u(d())})),o.BtnQueue.addEventListener("click",(function(){o.libraryUl.innerHTML="",u(r())})),console.log(r(queue)),u(d());var f=document.querySelector(".to-top"),p=document.querySelector(".films-list");f&&f.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),p.addEventListener("click",(function(){f.classList.add("is-hidden")})),document.addEventListener("scroll",(function(){window.scrollY>150?f.classList.remove("is-hidden"):f.classList.add("is-hidden"),document.querySelector("body").classList.contains("modal-is-open")&&f.classList.add("is-hidden")}))}();
//# sourceMappingURL=library.f602f21d.js.map
