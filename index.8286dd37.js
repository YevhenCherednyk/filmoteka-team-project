!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("8MBJY"),s=a("a2hTj"),c=a("2TvXO"),u=a("cUafD"),l=a("8j4eM"),f=a("aEGUz");function d(e,t){var n=[];if(!t)return"Other";var r=!0,a=!1,o=void 0;try{for(var i,s=function(t,r){var a=r.value,o=e.genres.find((function(e){return e.id===a}));if(null==o)return"continue";n.push(o.name)},c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)s(0,i)}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return 0===n.length&&n.push("Other"),n.length>3?[n[0],n[1],"Other"].join(", "):n.join(", ")}var p=a("1vPUk");function g(e,t){return e.map((function(e){var n=e.id,r=e.title,a=e.name,o=e.genre_ids,i=e.release_date,s=e.first_air_date,c=e.poster_path;return'<li class="films-list__item" data-id="'.concat(n,'">\n                    <img class="films-list__img" src="').concat((0,p.default)(c),'" alt="').concat((0,f.default)(r,a),'" />\n                    <div class="film-list__data">\n                    <h2 class="films-list__title">').concat((0,f.default)(r,a),'</h2>\n                    <span class="films-list__info films-list__ganre">').concat(d(t,o),'</span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">').concat((0,l.default)(i,s),"</span></div>\n        </li>")})).join("")}var h=a("3RyMV"),v=(i=a("8MBJY"),s=a("a2hTj"),new(function(){"use strict";function t(){e(i)(this,t),this.requst=""}return e(s)(t,[{key:"path",get:function(){return this.requst},set:function(e){this.requst=e}}]),t}()));v.path="https://api.themoviedb.org/3/trending/movie/week?api_key=19011014b9b53c4fd496d37c25f2b619";var m=v,y="https://api.themoviedb.org/3/",x="19011014b9b53c4fd496d37c25f2b619",b=function(){"use strict";function t(){e(i)(this,t),this.page=1,this.searchQuery=""}return e(s)(t,[{key:"searchTrendingFilms",value:function(){var t=this;return e(o)(e(c).mark((function n(){var r,a,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(y,"trending/all/week?api_key=").concat(x,"&page=").concat(t.page),e.prev=1,e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),n,null,[[1,11]])})))()}},{key:"searchGenres",value:function(){return e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(y,"genre/movie/list?api_key=").concat(x),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))()}},{key:"fetchMovieSearch",value:function(){var t=this;return e(o)(e(c).mark((function n(){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(y,"search/movie?api_key=").concat(x,"&query=").concat(t.searchQuery,"&page=").concat(t.page));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),n,null,[[0,10]])})))()}},{key:"GetMovieSearcPath",value:function(){return"".concat(y,"search/movie?api_key=").concat(x,"&query=").concat(this.searchQuery)}},{key:"GetTrendingSearcPath",value:function(){return"".concat(y,"trending/all/week?api_key=").concat(x)}},{key:"pageIncrement",value:function(){this.page+=1}},{key:"pageDecrement",value:function(){this.page-=1}},{key:"resetPage",value:function(){this.page=1}},{key:"currentPage",get:function(){return this.page},set:function(e){this.page=e}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),t}(),w=new b,k=document.querySelector(".films-list");function S(){return T.apply(this,arguments)}function T(){return(T=e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.searchGenres();case 2:return n=e.sent,e.next=5,w.searchTrendingFilms();case 5:r=e.sent,a=g(r.results,n),k.innerHTML=a,(0,h.default)(r.page,r.total_pages),m.path=w.GetTrendingSearcPath(),u.default.hideSpinner();case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}window.addEventListener("load",(function(){u.default.showSpinner(),setTimeout(S,500)}));var _=b,q=(o=a("bpxeT"),c=a("2TvXO"),u=a("cUafD"),h=a("3RyMV"),{searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),txt:document.querySelector(".errorText")}),L=new _;q.txt.textContent;function C(){return(C=e(o)(e(c).mark((function t(n){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),document.querySelector(".pagination").classList.add("hide-pagination"),L.query=n.currentTarget.elements.query.value,e.next=6,L.searchGenres();case 6:return r=e.sent,e.next=9,L.fetchMovieSearch();case 9:if(a=e.sent,M(),""!==L.query&&0!==a.results.length){e.next=16;break}return q.txt.style.color="#ff001b",q.txt.textContent="Search result not successful. Enter the correct movie name and try again!",q.searchForm.reset(),e.abrupt("return");case 16:q.txt.textContent=" ",u.default.showSpinner(),L.resetPage(),E(a.results,r),q.searchForm.reset(),q.txt.style.color="green",q.txt.textContent="Search result for: ".concat(U(L.query)),(0,h.default)(a.page,a.total_pages),m.path=L.GetMovieSearcPath();case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function E(e,t){q.articlesContainer.insertAdjacentHTML("beforeend",g(e,t)),u.default.hideSpinner()}function M(){q.articlesContainer.innerHTML=""}function U(e){return e[0].toUpperCase()+e.slice(1)}q.txt.textContent=" ",q.searchForm.addEventListener("submit",(function(e){return C.apply(this,arguments)})),a("hQlzp");o=a("bpxeT"),c=a("2TvXO"),h=a("3RyMV"),o=a("bpxeT"),c=a("2TvXO");var I=a("iU1Pc"),P=a("dIxxU");function O(){return(O=e(o)(e(c).mark((function t(n){var r;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.default.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),e(I).Notify.error(t.t0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var j=function(e){return O.apply(this,arguments)},N=document.querySelector(".films-list"),D="https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619";function F(){return(F=e(o)(e(c).mark((function t(n,r){var a,o,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat(n,"&page=").concat(r));case 2:return a=e.sent,e.next=5,j(D);case 5:return o=e.sent,e.next=8,g(a.results,o);case 8:i=e.sent,N.innerHTML=i,(0,h.default)(a.page,a.total_pages),window.scrollTo({top:270,behavior:"smooth"});case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var G=function(e,t){return F.apply(this,arguments)};document.querySelector(".pagination").addEventListener("click",(function(e){if(""!==e.target.innerText&&"button"===e.target.type){var t=document.querySelector(".current-btn").innerText;t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText,G(m.path,t)}})),a("cSw8k"),a("bho0P"),a("ab49T"),a("3W8lk");I=a("iU1Pc");var Q=a("6Urw1"),R=a("3SEMc"),A={modalCloseBtn:document.querySelector(".firebase-close"),backdrop:document.querySelector("[data-firebase]"),form:document.querySelector(".login-form"),showLoginForm:document.querySelector("#login"),login:document.querySelector("[data-login]"),singin:document.querySelector("[data-singin]"),logout:document.querySelector("#logout"),beforeSinginContainer:document.querySelector(".library-filter--logedout"),logoutContainer:document.querySelector(".library-filter--logout"),greetingText:document.querySelector(".greetingText")};(0,Q.initializeApp)({apiKey:"AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I",authDomain:"filmoteka-ee482.firebaseapp.com",projectId:"filmoteka-ee482",storageBucket:"filmoteka-ee482.appspot.com",messagingSenderId:"348964044133",appId:"1:348964044133:web:8806ca37db3ead82b0358c"});var H=(0,R.getAuth)();function X(){A.backdrop.classList.toggle("is-hidden"),A.form.reset()}function z(){e(I).Notify.failure("Error creating user. User exists or database error. Please try again."),console.error("Error creating user. User exists or database error. Please try again.")}localStorage.getItem("status")&&(A.beforeSinginContainer.classList.toggle("visually-hidden"),A.logoutContainer.classList.toggle("visually-hidden"),A.greetingText.textContent="Hello, ".concat(localStorage.getItem("status")),A.greetingText.classList.toggle("visually-hidden")),A.modalCloseBtn.addEventListener("click",X),A.showLoginForm.addEventListener("click",X),A.form.addEventListener("submit",(function(t){t.preventDefault();var n=t.currentTarget.elements,r=n.email,a=n.password,o=r.value,i=a.value;(0,R.signInWithEmailAndPassword)(H,o,i).then((function(t){var n=t.user.email;e(I).Notify.success("User ".concat(n," logged in.")),A.beforeSinginContainer.classList.toggle("visually-hidden"),A.logoutContainer.classList.toggle("visually-hidden"),localStorage.setItem("status","".concat(o)),A.form.reset(),X(),A.greetingText.textContent="Hello, ".concat(o),A.greetingText.style.color="green"})).catch(z)})),A.singin.addEventListener("click",(function(){var t=A.form.elements,n=t.email,r=t.password,a=n.value,o=r.value;(0,R.createUserWithEmailAndPassword)(H,a,o).then((function(t){var n=t.user.email;e(I).Notify.success("User ".concat(n," was successfully created. Now you can login.")),console.log("User ".concat(n," was successfully created. Now you can login.")),A.form.reset(),X()})).catch(z)})),A.logout.addEventListener("click",(function(){(0,R.signOut)(H),e(I).Notify.failure("You are logged out."),A.beforeSinginContainer.classList.toggle("visually-hidden"),A.logoutContainer.classList.toggle("visually-hidden"),localStorage.removeItem("status")})),window.addEventListener("keydown",(function(e){if(A.backdrop.classList.contains("is-hidden"))return;"Escape"===e.code&&X()})),A.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&X()}))}();
//# sourceMappingURL=index.8286dd37.js.map
