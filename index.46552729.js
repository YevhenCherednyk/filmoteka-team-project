!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var c=a("bpxeT"),s=a("8MBJY"),i=a("a2hTj"),u=a("2TvXO"),o=a("cUafD"),l=a("8j4eM"),f=a("aEGUz");function p(e,t){var n=[];if(!t)return"Other";var r=!0,a=!1,c=void 0;try{for(var s,i=function(t,r){var a=r.value,c=e.genres.find((function(e){return e.id===a}));if(null==c)return"continue";n.push(c.name)},u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)i(0,s)}catch(e){a=!0,c=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw c}}return 0===n.length&&n.push("Other"),n.length>3?[n[0],n[1],"Other"].join(", "):n.join(", ")}var h=a("1vPUk");function d(e,t){return console.log(e),e.map((function(e){var n=e.id,r=e.title,a=e.name,c=e.genre_ids,s=e.release_date,i=e.first_air_date,u=e.poster_path;return'<li class="films-list__item" data-id="'.concat(n,'">\n                    <img class="films-list__img" src="').concat((0,h.default)(u),'" alt="').concat((0,f.default)(r,a),'" />\n                    <h2 class="films-list__title">').concat((0,f.default)(r,a),'</h2>\n                    <span class="films-list__info films-list__ganre">').concat(p(t,c),'</span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">').concat((0,l.default)(s,i),"</span>\n            </li>")})).join("")}var v=a("3HVvE"),g=(s=a("8MBJY"),i=a("a2hTj"),new(function(){"use strict";function t(){e(s)(this,t),this.requst=""}return e(i)(t,[{key:"path",get:function(){return this.requst},set:function(e){this.requst=e}}]),t}()));g.path="https://api.themoviedb.org/3/trending/movie/week?api_key=19011014b9b53c4fd496d37c25f2b619";var y=g,m="https://api.themoviedb.org/3/",x="19011014b9b53c4fd496d37c25f2b619",b=function(){"use strict";function t(){e(s)(this,t),this.page=1,this.searchQuery=""}return e(i)(t,[{key:"searchTrendingFilms",value:function(){var t=this;return e(c)(e(u).mark((function n(){var r,a,c;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(m,"trending/all/week?api_key=").concat(x,"&page=").concat(t.page),e.prev=1,e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),n,null,[[1,11]])})))()}},{key:"searchGenres",value:function(){return e(c)(e(u).mark((function t(){var n,r,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"genre/movie/list?api_key=").concat(x),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))()}},{key:"fetchMovieSearch",value:function(){var t=this;return e(c)(e(u).mark((function n(){var r,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"search/movie?api_key=").concat(x,"&query=").concat(t.searchQuery,"&page=").concat(t.page));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),n,null,[[0,10]])})))()}},{key:"GetMovieSearcPath",value:function(){return"".concat(m,"search/movie?api_key=").concat(x,"&query=").concat(this.searchQuery)}},{key:"GetTrendingSearcPath",value:function(){return"".concat(m,"trending/all/week?api_key=").concat(x)}},{key:"pageIncrement",value:function(){this.page+=1}},{key:"pageDecrement",value:function(){this.page-=1}},{key:"resetPage",value:function(){this.page=1}},{key:"currentPage",get:function(){return this.page},set:function(e){this.page=e}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),t}(),w=new b,_=document.querySelector(".films-list");function k(){return T.apply(this,arguments)}function T(){return(T=e(c)(e(u).mark((function t(){var n,r,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.searchGenres();case 2:return n=e.sent,e.next=5,w.searchTrendingFilms();case 5:r=e.sent,a=d(r.results,n),_.innerHTML=a,(0,v.default)(r.page,r.total_pages),y.path=w.GetTrendingSearcPath(),o.default.hideSpinner();case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}window.addEventListener("load",(function(){o.default.showSpinner(),setTimeout(k,500)}));var S=b,q=(c=a("bpxeT"),u=a("2TvXO"),o=a("cUafD"),v=a("3HVvE"),{searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),txt:document.querySelector(".errorText")}),M=new S;q.txt.textContent;function j(){return(j=e(c)(e(u).mark((function t(n){var r,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),document.querySelector(".pagination").classList.add("hide-pagination"),M.query=n.currentTarget.elements.query.value,e.next=6,M.searchGenres();case 6:return r=e.sent,e.next=9,M.fetchMovieSearch();case 9:if(a=e.sent,E(),""!==M.query&&0!==a.results.length){e.next=16;break}return q.txt.style.color="#ff001b",q.txt.textContent="Search result not successful. Enter the correct movie name and try again!",q.searchForm.reset(),e.abrupt("return");case 16:q.txt.textContent=" ",o.default.showSpinner(),M.resetPage(),C(a.results,r),q.searchForm.reset(),q.txt.style.color="green",q.txt.textContent="Search result for: ".concat(O(M.query)),(0,v.default)(a.page,a.total_pages),y.path=M.GetMovieSearcPath();case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function C(e,t){q.articlesContainer.insertAdjacentHTML("beforeend",d(e,t)),o.default.hideSpinner()}function E(){q.articlesContainer.innerHTML=""}function O(e){return e[0].toUpperCase()+e.slice(1)}q.txt.textContent=" ",q.searchForm.addEventListener("submit",(function(e){return j.apply(this,arguments)}));c=a("bpxeT"),u=a("2TvXO"),v=a("3HVvE"),c=a("bpxeT"),u=a("2TvXO");var L=a("iU1Pc"),P=a("dIxxU");function U(){return(U=e(c)(e(u).mark((function t(n){var r;return e(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.default.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),e(L).Notify.error(t.t0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var G=function(e){return U.apply(this,arguments)},F=document.querySelector(".films-list"),H="https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619";function D(){return(D=e(c)(e(u).mark((function t(n,r){var a,c,s;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("".concat(n,"&page=").concat(r));case 2:return a=e.sent,e.next=5,G(H);case 5:return c=e.sent,e.next=8,d(a.results,c);case 8:s=e.sent,F.innerHTML=s,(0,v.default)(a.page,a.total_pages),window.scrollTo({top:270,behavior:"smooth"});case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var Q=function(e,t){return D.apply(this,arguments)};document.querySelector(".pagination").addEventListener("click",(function(e){if(""!==e.target.innerText&&"button"===e.target.type){var t=document.querySelector(".current-btn").innerText;t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText,Q(y.path,t)}})),a("cSw8k"),a("2qu8K"),a("ab49T"),a("ld3yl")}();
//# sourceMappingURL=index.46552729.js.map
