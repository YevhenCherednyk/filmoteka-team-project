!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequired7c6=a),a("bho0P");var r=a("8j4eM"),l=a("aEGUz");function o(e){var t=e.map((function(e){return e.name}));return t.length||t.push("Other"),t.length>2?[t[0],t[1],"Other"].join(", "):t.join(", ")}var s=a("1vPUk");function c(e){if(e||e.length)return e.map((function(e){var t=e.id,n=e.poster_path,i=e.title,a=e.name,c=e.vote_average,d=e.original_title,u=e.genres,g=(e.overview,e.release_date),f=e.first_air_date;return'<li class="films-list__item" data-id="'.concat(t,'">\n  <img class="films-list__img" src="').concat((0,s.default)(n),'" alt="').concat((0,l.default)(i,a),'" />\n  <div class="film-list__data">\n  <h2 class="films-list__title">').concat((0,l.default)(d,a),'</h2>\n    <span class="films-list__info films-list__ganre">').concat(o(u),'\n  </span> <span class="films-list__info">&#10072;</span> <span class="films-list__info release-date">').concat((0,r.default)(g,f),'\n<span class="films-list__info films-rating "> ').concat(c.toFixed(1),"</span></div>\n</li>")})).join("")}var d,u=a("3RyMV"),g={libraryUl:document.querySelector("#library"),BtnWatched:document.querySelector("#watchedFilterBtn"),BtnQueue:document.querySelector("#queueFilterBtn")},f=document.querySelector(".pagination"),m=20;function v(){if(f.classList.add("hide-pagination"),g.BtnWatched.classList.add("library-filter-btn--active"),g.BtnQueue.classList.remove("library-filter-btn--active"),d=JSON.parse(localStorage.getItem("watched"))){var e=d.slice(0,m);g.libraryUl.innerHTML=c(e);var t=Math.ceil(d.length/m);(0,u.default)(1,t)}else g.libraryUl.innerHTML=""}g.BtnWatched.addEventListener("click",(function(){if(f.classList.add("hide-pagination"),g.BtnWatched.classList.add("library-filter-btn--active"),g.BtnQueue.classList.remove("library-filter-btn--active"),d=JSON.parse(localStorage.getItem("watched"))){var e=d.slice(0,m);g.libraryUl.innerHTML=c(e);var t=Math.ceil(d.length/m);(0,u.default)(1,t)}else g.libraryUl.innerHTML=""})),g.BtnQueue.addEventListener("click",(function(){if(f.classList.add("hide-pagination"),g.BtnWatched.classList.remove("library-filter-btn--active"),g.BtnQueue.classList.add("library-filter-btn--active"),d=JSON.parse(localStorage.getItem("queue"))){var e=d.slice(0,m);g.libraryUl.innerHTML=c(e);var t=Math.ceil(d.length/m);(0,u.default)(1,t)}else g.libraryUl.innerHTML=""})),f.addEventListener("click",(function(e){if(""!==e.target.innerText&&"button"===e.target.type){for(var t=document.querySelector(".current-btn").innerText,n=[],i=(t="+1"===e.target.innerText?parseInt(t)+1:"-1"===e.target.innerText?parseInt(t)-1:e.target.innerText)*m-m,a=i+m,r=i;r<a&&d[r];r+=1)n.push(d[r]);g.libraryUl.innerHTML=c(n);var l=Math.ceil(d.length/m);(0,u.default)(parseInt(t),l),window.scrollTo({top:270,behavior:"smooth"})}})),a("3W8lk"),a("cSw8k"),a("ab49T"),a("hQlzp");var y=a("iU1Pc"),h=a("6Urw1"),p=a("3SEMc"),b={modalCloseBtn:document.querySelector(".firebase-close"),backdrop:document.querySelector("[data-firebase]"),form:document.querySelector(".login-form"),showLoginForm:document.querySelector("#login"),login:document.querySelector("[data-login]"),singin:document.querySelector("[data-singin]"),logout:document.querySelector("#logout"),beforeSinginContainer:document.querySelector(".library-filter--logedout"),afterSinginContainer:document.querySelector(".library-filter"),logoutContainer:document.querySelector(".library-filter--logout"),greetingText:document.querySelector(".greetingText"),galleryListItems:document.querySelector(".films-list")};(0,h.initializeApp)({apiKey:"AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I",authDomain:"filmoteka-ee482.firebaseapp.com",projectId:"filmoteka-ee482",storageBucket:"filmoteka-ee482.appspot.com",messagingSenderId:"348964044133",appId:"1:348964044133:web:8806ca37db3ead82b0358c"});var L=(0,p.getAuth)();function S(){b.backdrop.classList.toggle("is-hidden"),b.form.reset()}function w(){e(y).Notify.failure("Error creating user. User exists or database error. Please try again."),console.error("Error creating user. User exists or database error. Please try again.")}localStorage.getItem("status")&&(b.beforeSinginContainer.classList.toggle("visually-hidden"),b.afterSinginContainer&&b.afterSinginContainer.classList.toggle("visually-hidden"),b.logoutContainer.classList.toggle("visually-hidden"),b.greetingText.textContent="Hello, ".concat(localStorage.getItem("status")),b.greetingText.classList.toggle("visually-hidden"),v()),b.modalCloseBtn.addEventListener("click",S),b.showLoginForm.addEventListener("click",S),b.form.addEventListener("submit",(function(t){t.preventDefault();var n=t.currentTarget.elements,i=n.email,a=n.password,r=i.value,l=a.value;(0,p.signInWithEmailAndPassword)(L,r,l).then((function(t){var n=t.user.email;e(y).Notify.success("User ".concat(n," logged in.")),b.beforeSinginContainer.classList.toggle("visually-hidden"),b.afterSinginContainer.classList.toggle("visually-hidden"),b.logoutContainer.classList.toggle("visually-hidden"),localStorage.setItem("status","".concat(r)),b.form.reset(),S(),b.greetingText.textContent="Hello, ".concat(r),b.greetingText.classList.toggle("visually-hidden"),v()})).catch(w)})),b.singin.addEventListener("click",(function(){var t=b.form.elements,n=t.email,i=t.password,a=n.value,r=i.value;(0,p.createUserWithEmailAndPassword)(L,a,r).then((function(t){var n=t.user.email;e(y).Notify.success("User ".concat(n," was successfully created. Now you can log in.")),console.log("User ".concat(n," was successfully created. Now you can log in.")),b.form.reset(),S()})).catch(w)})),b.logout.addEventListener("click",(function(){(0,p.signOut)(L),e(y).Notify.failure("You are logged out."),b.beforeSinginContainer.classList.toggle("visually-hidden"),b.afterSinginContainer&&b.afterSinginContainer.classList.toggle("visually-hidden");b.logoutContainer.classList.toggle("visually-hidden"),localStorage.removeItem("status"),b.galleryListItems.innerHTML=""})),window.addEventListener("keydown",(function(e){if(b.backdrop.classList.contains("is-hidden"))return;"Escape"===e.code&&S()})),b.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&S()}))}();
//# sourceMappingURL=library.44d2c681.js.map
