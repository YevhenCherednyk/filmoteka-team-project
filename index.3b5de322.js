function e(e,s){const n=e.map((({id:e,title:n,name:a,genre_ids:i,release_date:r,first_air_date:c,poster_path:l="../images/сard-films/movie-poster-coming-soon.jpg"})=>{return`<li class="films-list__item" data-id="${e}">\n                <div class="wrapper">\n                    <img src="http://image.tmdb.org/t/p/w500${l}" alt="${t(n,a)}" />\n                </div>\n                <div class="text-wrapper">\n                    <h2 class="films-list__title">${t(n,a)}</h2>\n                    <p class="films-list__text"><span class="films-list__ganre">${function(e,t){const s=[];for(let n of t){let t=e.genres.find((e=>e.id===n));null!=t&&s.push(t.name)}0===s.length&&s.push("Other");return s.length>3?[s[0],s[1],"Other"].join(", "):s.join(", ")}(s,i)}</span> &#10072; <span class="release-date">${o=r,p=c,o?o.slice(0,4):p.slice(0,4)}</span>\n                    </p>\n                </div>\n            </li>`;var o,p})).join("");return n}function t(e,t){return e||t}class s{async searchTrendingFilms(){const e=`https://api.themoviedb.org/3/trending/all/week?api_key=19011014b9b53c4fd496d37c25f2b619&page=${this.page}`;this.pageIncrement();try{const t=await fetch(e);return await t.json()}catch(e){console.log(e)}}async searchGenres(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619");return await e.json()}catch(e){console.log(e)}}pageIncrement(){this.page+=1}pageDecrement(){this.page-=1}resetPage(){this.page=1}constructor(){this.page=1}}const n=new s,a=document.querySelector(".films-list");!async function(){const t=await n.searchGenres(),s=await n.searchTrendingFilms();console.log(s),console.log(t);const i=e(s.results,t);a.insertAdjacentHTML("beforeend",i)}();
//# sourceMappingURL=index.3b5de322.js.map
