!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var c=a("bpxeT"),u=a("8MBJY"),s=a("a2hTj"),o=a("2TvXO"),i=a("cUafD"),l=a("4OjDq"),f=a("3HVvE"),p=a("8hLto"),h="https://api.themoviedb.org/3/",d="19011014b9b53c4fd496d37c25f2b619",v=function(){"use strict";function t(){e(u)(this,t),this.page=1,this.searchQuery=""}return e(s)(t,[{key:"searchTrendingFilms",value:function(){var t=this;return e(c)(e(o).mark((function n(){var r,a,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(h,"trending/all/week?api_key=").concat(d,"&page=").concat(t.page),e.prev=1,e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),n,null,[[1,11]])})))()}},{key:"searchGenres",value:function(){return e(c)(e(o).mark((function t(){var n,r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"genre/movie/list?api_key=").concat(d),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))()}},{key:"fetchMovieSearch",value:function(){var t=this;return e(c)(e(o).mark((function n(){var r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h,"search/movie?api_key=").concat(d,"&query=").concat(t.searchQuery,"&page=").concat(t.page));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),n,null,[[0,10]])})))()}},{key:"GetMovieSearcPath",value:function(){return"".concat(h,"search/movie?api_key=").concat(d,"&query=").concat(this.searchQuery)}},{key:"GetTrendingSearcPath",value:function(){return"".concat(h,"trending/all/week?api_key=").concat(d)}},{key:"pageIncrement",value:function(){this.page+=1}},{key:"pageDecrement",value:function(){this.page-=1}},{key:"resetPage",value:function(){this.page=1}},{key:"currentPage",get:function(){return this.page},set:function(e){this.page=e}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),t}(),y=new v,g=document.querySelector(".films-list");function x(){return m.apply(this,arguments)}function m(){return(m=e(c)(e(o).mark((function t(){var n,r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.searchGenres();case 2:return n=e.sent,e.next=5,y.searchTrendingFilms();case 5:r=e.sent,a=(0,l.default)(r.results,n),g.innerHTML=a,(0,f.default)(r.page,r.total_pages),p.default.path=y.GetTrendingSearcPath(),i.default.hideSpinner();case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}window.addEventListener("load",(function(){i.default.showSpinner(),setTimeout(x,500)}));var w=v,k=(c=a("bpxeT"),o=a("2TvXO"),l=a("4OjDq"),i=a("cUafD"),f=a("3HVvE"),p=a("8hLto"),{searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".films-list"),txt:document.querySelector(".errorText")}),b=new w;k.txt.textContent;function T(){return(T=e(c)(e(o).mark((function t(n){var r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),document.querySelector(".pagination").classList.add("hide-pagination"),b.query=n.currentTarget.elements.query.value,e.next=6,b.searchGenres();case 6:return r=e.sent,e.next=9,b.fetchMovieSearch();case 9:if(a=e.sent,q(),""!==b.query&&0!==a.results.length){e.next=16;break}return k.txt.style.color="#ff001b",k.txt.textContent="Search result not successful. Enter the correct movie name and try again!",k.searchForm.reset(),e.abrupt("return");case 16:k.txt.textContent=" ",i.default.showSpinner(),b.resetPage(),S(a.results,r),k.searchForm.reset(),k.txt.style.color="green",k.txt.textContent="Search result for: ".concat(_(b.query)),(0,f.default)(a.page,a.total_pages),p.default.path=b.GetMovieSearcPath();case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function S(e,t){k.articlesContainer.insertAdjacentHTML("beforeend",(0,l.default)(e,t)),i.default.hideSpinner()}function q(){k.articlesContainer.innerHTML=""}function _(e){return e[0].toUpperCase()+e.slice(1)}k.txt.textContent=" ",k.searchForm.addEventListener("submit",(function(e){return T.apply(this,arguments)})),a("cEfcW"),a("cSw8k"),a("2qu8K"),a("ab49T"),a("ld3yl")}();
//# sourceMappingURL=index.c20653dd.js.map
