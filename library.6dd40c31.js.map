{"mappings":"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","sources":["src/js/modal_oc.js","src/js/api-service/date-optimizer.js","src/js/api-service/title-optimizer.js","src/js/library-card/library-card.js","src/js/scrol-to-top/scrollToTop.js"],"sourcesContent":["const refs = {\n  body: document.querySelector(\"body\"),\n  // ===== for movie modal =====\n  backdropMovie: document.querySelector(\"[data-modal='movie']\"),\n  modalCloseBtnMovie: document.querySelector(\"[data-modalCloseBtn='movie']\"),\n\n  // ===== for team modal =====\n  backdropTeam: document.querySelector(\"[data-modal='team']\"),\n  modalOpenBtnTeam: document.querySelector(\"[data-modalOpenBtn='team']\"), \n  modalCloseBtnTeam: document.querySelector(\"[data-modalCloseBtn='team']\"),\n};\n\nwindow.addEventListener('keydown', onEscKeyPress);\n// ===== for movie modal =====\nrefs.backdropMovie.addEventListener('click', onBackdropClick);\nrefs.modalCloseBtnMovie.addEventListener('click', toggleModalMovie);\n// ===== for team modal =====\nrefs.backdropTeam.addEventListener('click', onBackdropClick);\nrefs.modalOpenBtnTeam.addEventListener(\"click\", toggleModalTeam);\nrefs.modalCloseBtnTeam.addEventListener(\"click\", toggleModalTeam);\n// ===========================\n\nexport function toggleModalMovie() {\n  refs.body.classList.toggle(\"modal-is-open\");\n  refs.backdropMovie.classList.toggle('is-hidden');\n}\n\nfunction toggleModalTeam() {\n  refs.body.classList.toggle(\"modal-is-open\");\n  refs.backdropTeam.classList.toggle('is-hidden');\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeModal();\n  }\n}\n\nfunction onEscKeyPress(e) {\n  if (!document.body.classList.contains(\"modal-is-open\")) {\n    return;\n  }\n\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  refs.body.classList.remove(\"modal-is-open\");\n  refs.backdropTeam.classList.add('is-hidden');\n  refs.backdropMovie.classList.add('is-hidden');\n}","export default function dateOptimizer(releaseDate, firstDate) {\n  if (releaseDate) {\n    return releaseDate.slice(0, 4);\n  }\n\n  if (firstDate) {\n    return firstDate.slice(0, 4);\n  }\n\n  return 'Coming soon! :)';\n}\n","export default function optimizer(title, name) {\n  if (title) {\n    return title;\n  }\n\n  if (name) {\n    return name;\n  }\n\n  return 'The best film in your life! :)';\n}\n","import dateOptimizer from '../api-service/date-optimizer';\nimport titleOptimizer from '../api-service/title-optimizer';\n\nconst refs = {\n  libraryUl: document.querySelector(\"#library\"),\n  BtnWatched: document.querySelector(\"#watched\"),\n  BtnQueue: document.querySelector(\"#queue\"),\n}\n\nconst libraryMovies = localStorage.getItem('watched');\n\n\nconst queueMovies = localStorage.getItem('queue');\n\nrefs.BtnWatched.addEventListener(\"click\", () => {\n  renderMovieDetailsMarkup(createMovieLibraryMarkup(libraryMovies))\n});\n\nrefs.BtnQueue.addEventListener(\"click\", () => {\n  refs.libraryUl.innerHTML = \"\";\n  renderMovieDetailsMarkup(createMovieQueueMarkup(queueMovies))\n});\n\n\n\nfunction logClick(event) {\n  console.log(event)\n}\n\nfunction createMovieLibraryMarkup() {\n  const watched = JSON.parse(libraryMovies);\n  console.log(watched);\n  \n  if (!watched || !watched.length) {\n    return\n  } \n\n  return watched.map(({id, poster_path,title,name,vote_average,original_title,genres,overview, release_date, first_air_date}) => { \n  return `<li class=\"films-list__item\" data-id=\"${id}\">\n  <img class=\"films-list__img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${titleOptimizer(\ntitle,\nname\n)}\" />\n  <h2 class=\"films-list__title\">${titleOptimizer(\n    original_title,\n    name\n    )}</h2>\n    <span class=\"films-list__info films-list__ganre\">${genresList(genres)}\n  </span> <span class=\"films-list__info\">&#10072;</span> <span class=\"films-list__info release-date\">${dateOptimizer(\nrelease_date,\nfirst_air_date\n)}\n<span class=\"films-list__info films-rating \"> ${vote_average.toFixed(1)}</span>\n</li>`\n  }).join(\"\");\n}\n\nfunction createMovieQueueMarkup() {\n  const queue = JSON.parse(queueMovies);\n  console.log(watched);\n  \n  if (!queue || !queue.length) {\n    return\n  } \n\n  return queue.map(({id, poster_path,title,name,vote_average,original_title,genres,overview, release_date, first_air_date}) => { \n  return `<li class=\"films-list__item\" data-id=\"${id}\">\n  <img class=\"films-list__img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${titleOptimizer(\ntitle,\nname\n)}\" />\n  <h2 class=\"films-list__title\">${titleOptimizer(\n    original_title,\n    name\n    )}</h2>\n    <span class=\"films-list__info films-list__ganre\">${genresList(genres)}\n  </span> <span class=\"films-list__info\">&#10072;</span> <span class=\"films-list__info release-date\">${dateOptimizer(\nrelease_date,\nfirst_air_date\n)}\n<span class=\"films-list__info films-rating \"> ${vote_average.toFixed(1)}</span>\n</li>`\n  }).join(\"\");\n}\n\nfunction genresList (genres) {\n  const genreList =  genres.map(({name}) => name) \n\n    if (genreList.length === 0) {\n      genreList.push('Other');\n    }\n  \n   \n  if (genreList.length > 2) {\n      return [genreList[0], genreList[1], 'Other'].join(', ');\n    }\n  \n    return genreList.join(', '); \n  }\n\nconsole.log(createMovieQueueMarkup(queue));\n\n\nfunction renderMovieDetailsMarkup(data) {\n  refs.libraryUl.innerHTML = data;\n}\n\nrenderMovieDetailsMarkup(createMovieLibraryMarkup(libraryMovies));\n\n\n","const scrollBtn = document.querySelector(\".to-top\");\nconst filmListRef = document.querySelector('.films-list');\n\nif (scrollBtn) scrollBtn.addEventListener(\"click\", () => {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n});\n\nfilmListRef.addEventListener('click', hideToTopBtn)\n\ndocument.addEventListener(\"scroll\", () => {\n    btnVisibility();\n});\n\nfunction hideToTopBtn() {\n    scrollBtn.classList.add('is-hidden')\n}\n\nfunction btnVisibility() {\n\n    window.scrollY > 150 ? scrollBtn.classList.remove('is-hidden') : scrollBtn.classList.add('is-hidden');\n\n    if (document.querySelector('body').classList.contains('modal-is-open')) {\n        scrollBtn.classList.add('is-hidden');\n    }\n\n    // window.scrollY > 150 ? scrollBtn.classList.remove('visually-hidden') : scrollBtn.classList.add('visually-hidden');\n\n    // if (window.scrollY > 50) {\n    //     scrollBtn.style.visibility = \"visible\";\n    // } else {\n    //     scrollBtn.style.visibility = \"hidden\";\n    // }\n};\n\n// function setBlackThemeScrollBtn() {\n//   if (document.querySelector('body').classList.contains('black')) {\n//     scrollBtn.classList.add('to-top--styleDark');\n//   } else {\n//     scrollBtn.classList.remove('to-top--styleDark');\n//   }\n// }\n\n"],"names":["$e6208aa4daed899b$var$refs","body","document","querySelector","backdropMovie","modalCloseBtnMovie","backdropTeam","modalOpenBtnTeam","modalCloseBtnTeam","$e6208aa4daed899b$var$toggleModalTeam","classList","toggle","$e6208aa4daed899b$var$onBackdropClick","e","currentTarget","target","$e6208aa4daed899b$var$closeModal","remove","add","$5a0a2b40490c6042$export$2e2bcd8739ae039","releaseDate","firstDate","slice","$61742efe509824a7$export$2e2bcd8739ae039","title","name","window","addEventListener","contains","code","$13cf809e75ce6b71$var$refs","libraryUl","BtnWatched","BtnQueue","$13cf809e75ce6b71$var$libraryMovies","localStorage","getItem","$13cf809e75ce6b71$var$queueMovies","$13cf809e75ce6b71$var$createMovieLibraryMarkup","watched","JSON","parse","console","log","length","map","id","poster_path","vote_average","original_title","genres","overview","release_date","first_air_date","$13cf809e75ce6b71$var$genresList","toFixed","join","$13cf809e75ce6b71$var$createMovieQueueMarkup","queue","genreList","push","$13cf809e75ce6b71$var$renderMovieDetailsMarkup","data","innerHTML","$16c775c40e70aaf8$var$scrollBtn","$16c775c40e70aaf8$var$filmListRef","scrollTo","top","behavior","scrollY"],"version":3,"file":"library.6dd40c31.js.map"}