{"mappings":"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","sources":["src/js/api-service/trending-and-genres.js","src/js/card/card-murkup-main.js","src/js/all-genres/find-genres.js","src/js/pagination/request-hendler.js","src/js/api-service/searche-and-render.js","src/js/pagination/get-data-and-put-to-render.js","src/js/pagination/fetch-data.js","src/js/pagination/pagination-event-handler.js","src/js/firebase/firebase-main.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '19011014b9b53c4fd496d37c25f2b619';\nimport spinnerControls from '../spinner/spinner';\nimport markupCard from '../card/card-murkup-main';\nimport paginationManager from '../pagination/pagination-manager';\nimport PathHendler from '../pagination/request-hendler';\n\nexport class GetTrendingMovies {\n  constructor() {\n    this.page = 1;\n    this.searchQuery = '';\n  }\n\n  async searchTrendingFilms() {\n    const url = `${BASE_URL}trending/all/week?api_key=${API_KEY}&page=${this.page}`;\n    try {\n      const response = await fetch(url);\n      const trendings = await response.json();\n      return trendings;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async searchGenres() {\n    const url = `${BASE_URL}genre/movie/list?api_key=${API_KEY}`;\n    try {\n      const response = await fetch(url);\n      const genres = await response.json();\n      return genres;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async fetchMovieSearch() {\n    try {\n      const response = await fetch(\n        `${BASE_URL}search/movie?api_key=${API_KEY}&query=${this.searchQuery}&page=${this.page}`\n      );\n      const searchedMovies = await response.json();\n      return searchedMovies;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n\n  GetMovieSearcPath() {\n    return `${BASE_URL}search/movie?api_key=${API_KEY}&query=${this.searchQuery}`;\n  }\n  GetTrendingSearcPath() {\n    return `${BASE_URL}trending/all/week?api_key=${API_KEY}`;\n  }\n\n  pageIncrement() {\n    this.page += 1;\n  }\n\n  pageDecrement() {\n    this.page -= 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  set currentPage(newPage) {\n    this.page = newPage;\n  }\n\n  get currentPage() {\n    return this.page;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n\nconst GetMovies = new GetTrendingMovies();\n\nconst container = document.querySelector('.films-list');\nwindow.addEventListener('load', () => {\n  spinnerControls.showSpinner();\n  setTimeout(markupRenderer, 500);\n});\n\nasync function markupRenderer() {\n  const genres = await GetMovies.searchGenres();\n  const trendings = await GetMovies.searchTrendingFilms();\n  const markup = markupCard(trendings.results, genres);\n  container.innerHTML = markup;\n\n  paginationManager(trendings.page, trendings.total_pages);\n  PathHendler.path = GetMovies.GetTrendingSearcPath();\n\n  spinnerControls.hideSpinner();\n}\n\nexport default GetTrendingMovies;\n","import dateOptimizer from '../api-service/date-optimizer';\nimport titleOptimizer from '../api-service/title-optimizer';\nimport findGenres from '../all-genres/find-genres';\nimport picturePathPlace from '../api-service/placeholder';\nexport default function markupCard(data, genres) {\n  const card = data\n    .map(\n      ({\n        id,\n        title,\n        name,\n        genre_ids,\n        release_date,\n        first_air_date,\n        poster_path,\n      }) => {\n        return `<li class=\"films-list__item\" data-id=\"${id}\">\n                    <img class=\"films-list__img\" src=\"${picturePathPlace(\n                      poster_path\n                    )}\" alt=\"${titleOptimizer(title, name)}\" />\n                    <div class=\"film-list__data\">\n                    <h2 class=\"films-list__title\">${titleOptimizer(\n                      title,\n                      name\n                    )}</h2>\n                    <span class=\"films-list__info films-list__ganre\">${findGenres(\n                      genres,\n                      genre_ids\n                    )}</span> <span class=\"films-list__info\">&#10072;</span> <span class=\"films-list__info release-date\">${dateOptimizer(\n          release_date,\n          first_air_date\n        )}</span></div>\n        </li>`;\n      }\n    )\n    .join('');\n  return card;\n}\n","export default function findGenres(genres, genreIds) {\n  const genresArray = [];\n\n  if (!genreIds) {\n    return 'Other';\n  }\n\n  for (let id of genreIds) {\n    let item = genres.genres.find(genre => genre.id === id);\n    if (item == undefined) {\n      continue;\n    } else {\n      genresArray.push(item.name);\n    }\n  }\n\n  if (genresArray.length === 0) {\n    genresArray.push('Other');\n  }\n\n  if (genresArray.length > 3) {\n    return [genresArray[0], genresArray[1], 'Other'].join(', ');\n  }\n\n  return genresArray.join(', ');\n}\n","class RequestHendler {\n  constructor() {\n    this.requst = '';\n  }\n  get path() {\n    return this.requst;\n  }\n\n  set path(newPath) {\n    this.requst = newPath;\n  }\n}\n\nconst pathToTrandingMovies =\n  'https://api.themoviedb.org/3/trending/movie/week?api_key=19011014b9b53c4fd496d37c25f2b619';\n\nconst PathHendler = new RequestHendler();\nPathHendler.path = pathToTrandingMovies;\nexport default PathHendler;\n","import GetTrendingMovies from './trending-and-genres';\nimport markupCard from '../card/card-murkup-main';\nimport spinnerControls from '../spinner/spinner';\nimport paginationManager from '../pagination/pagination-manager';\nimport PathHendler from '../pagination/request-hendler';\n\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  articlesContainer: document.querySelector('.films-list'),\n  txt: document.querySelector('.errorText'),\n};\n\nconst moviesApiService = new GetTrendingMovies();\nconst text = refs.txt.textContent;\n\nrefs.txt.textContent = ' ';\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nasync function onSearch(e) {\n  e.preventDefault();\n \n  const divPaginationRef = document.querySelector('.pagination');\n  divPaginationRef.classList.add('hide-pagination');\n \n  moviesApiService.query = e.currentTarget.elements.query.value;\n\n  const genres = await moviesApiService.searchGenres();\n  const searchedMovies = await moviesApiService.fetchMovieSearch();\n  clearArticlesContainer();\n  if (moviesApiService.query === '' || searchedMovies.results.length === 0) {\n    refs.txt.style.color = '#ff001b';\n    refs.txt.textContent =\n      'Search result not successful. Enter the correct movie name and try again!';\n    refs.searchForm.reset();\n    return;\n  }\n\n  refs.txt.textContent = ' ';\n\n  spinnerControls.showSpinner();\n  moviesApiService.resetPage();\n  appendHitsMarkup(searchedMovies.results, genres);\n  refs.searchForm.reset();\n  refs.txt.style.color = 'green';\n  refs.txt.textContent = `Search result for: ${capitalizeQuery(\n    moviesApiService.query\n  )}`;\n  \n  paginationManager(searchedMovies.page, searchedMovies.total_pages);\n  PathHendler.path = moviesApiService.GetMovieSearcPath();\n}\n\nfunction appendHitsMarkup(results, genres) {\n  refs.articlesContainer.insertAdjacentHTML(\n    'beforeend',\n    markupCard(results, genres)\n  );\n  spinnerControls.hideSpinner();\n}\n\nfunction clearArticlesContainer() {\n  refs.articlesContainer.innerHTML = '';\n}\n\nfunction capitalizeQuery(text) {\n  return text[0].toUpperCase() + text.slice(1);\n}","import paginationManager from './pagination-manager';\nimport markupCard from '../card/card-murkup-main';\nimport fetchData from './fetch-data';\n\nconst container = document.querySelector('.films-list');\nconst pathToGanres =\n  'https://api.themoviedb.org/3/genre/movie/list?api_key=19011014b9b53c4fd496d37c25f2b619';\n\nasync function getDataAndPutToRender(basePath, page) {\n  const movies = await fetchData(`${basePath}&page=${page}`);\n  const genres = await fetchData(pathToGanres);\n  const markupListOfMovies = await markupCard(movies.results, genres);\n  container.innerHTML = markupListOfMovies;\n  paginationManager(movies.page, movies.total_pages);\n  window.scrollTo({\n    top: 270,\n    behavior: 'smooth',\n  });\n}\n\nexport default getDataAndPutToRender;\n","import Notiflix from 'notiflix';\nimport axios from 'axios';\n\nasync function fetchData(path) {\n  try {\n    const response = await axios.get(path);\n    return response.data;\n  } catch (error) {\n    Notiflix.Notify.error(error);\n    return;\n  }\n}\n\nexport default fetchData;\n","import getDataAndPutToRender from './get-data-and-put-to-render';\nimport PathHendler from './request-hendler';\n\nconst paginationRef = document.querySelector('.pagination');\n\npaginationRef.addEventListener('click', e => {\n  if (e.target.innerText === '' || e.target.type !== 'button') {\n    return;\n  }\n  const currentButton = document.querySelector('.current-btn');\n  let page = currentButton.innerText;\n  if (e.target.innerText === '+1') {\n    page = parseInt(page) + 1;\n  } else if (e.target.innerText === '-1') {\n    page = parseInt(page) - 1;\n  } else {\n    page = e.target.innerText;\n  }\n  getDataAndPutToRender(PathHendler.path, page);\n});\n","import Notiflix from 'notiflix';\nimport { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signOut,\n} from 'firebase/auth';\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCzNfDORIKECOXx70pR7oyqYxQQXlNvw0I',\n  authDomain: 'filmoteka-ee482.firebaseapp.com',\n  projectId: 'filmoteka-ee482',\n  storageBucket: 'filmoteka-ee482.appspot.com',\n  messagingSenderId: '348964044133',\n  appId: '1:348964044133:web:8806ca37db3ead82b0358c',\n};\nconst refs = {\n  modalCloseBtn: document.querySelector('.firebase-close'),\n  backdrop: document.querySelector('[data-firebase]'),\n  form: document.querySelector('.login-form'),\n  showLoginForm: document.querySelector('#login'),\n  login: document.querySelector('[data-login]'),\n  singin: document.querySelector('[data-singin]'),\n  logout: document.querySelector('#logout'),\n  beforeSinginContainer: document.querySelector('.library-filter--logedout'),\n\n  logoutContainer: document.querySelector('.library-filter--logout'),\n  greetingText: document.querySelector('.greetingText'),\n};\ninitializeApp(firebaseConfig);\nconst auth = getAuth();\nonLoadPageCkeckAccount();\n\nrefs.modalCloseBtn.addEventListener('click', onModalOpenClose);\nrefs.showLoginForm.addEventListener('click', onModalOpenClose);\nrefs.form.addEventListener('submit', onLoginUserAction);\nrefs.singin.addEventListener('click', onCraetUserAction);\nrefs.logout.addEventListener('click', onExitUserAction);\nwindow.addEventListener('keydown', onEscKeyPress);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nfunction onModalOpenClose() {\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.form.reset();\n}\n\nfunction onLoginUserAction(event) {\n  event.preventDefault();\n  const {\n    elements: { email, password },\n  } = event.currentTarget;\n\n  const sendEmail = email.value;\n  const sendPassword = password.value;\n  signInWithEmailAndPassword(auth, sendEmail, sendPassword)\n    .then(userCredential => {\n      const user = userCredential.user.email;\n      Notiflix.Notify.success(`User ${user} logged in.`);\n      refs.beforeSinginContainer.classList.toggle('visually-hidden');\n      refs.logoutContainer.classList.toggle('visually-hidden');\n      localStorage.setItem('status', `${sendEmail}`);\n      refs.form.reset();\n      onModalOpenClose();\n      refs.greetingText.textContent = `Hello, ${sendEmail}`;\n      refs.greetingText.style.color = 'green';\n    })\n    .catch(onError);\n}\n\nfunction onCraetUserAction() {\n  const {\n    elements: { email, password },\n  } = refs.form;\n\n  const sendEmail = email.value;\n  const sendPassword = password.value;\n  createUserWithEmailAndPassword(auth, sendEmail, sendPassword)\n    .then(userCredential => {\n      var user = userCredential.user.email;\n      Notiflix.Notify.success(\n        `User ${user} was successfully created. Now you can login.`\n      );\n      console.log(`User ${user} was successfully created. Now you can login.`);\n      refs.form.reset();\n      onModalOpenClose();\n    })\n    .catch(onError);\n}\n\nfunction onExitUserAction() {\n  signOut(auth);\n  Notiflix.Notify.failure('You are logged out.');\n  refs.beforeSinginContainer.classList.toggle('visually-hidden');\n\n  refs.logoutContainer.classList.toggle('visually-hidden');\n  localStorage.removeItem('status');\n}\n\nfunction onError() {\n  Notiflix.Notify.failure(\n    'Error creating user. User exists or database error. Please try again.'\n  );\n  console.error(\n    'Error creating user. User exists or database error. Please try again.'\n  );\n}\n\nfunction onLoadPageCkeckAccount() {\n  if (localStorage.getItem('status')) {\n    refs.beforeSinginContainer.classList.toggle('visually-hidden');\n\n    refs.logoutContainer.classList.toggle('visually-hidden');\n    refs.greetingText.textContent = `Hello, ${localStorage.getItem('status')}`;\n    refs.greetingText.classList.toggle('visually-hidden');\n  }\n}\n\nfunction onEscKeyPress(e) {\n  if (refs.backdrop.classList.contains('is-hidden')) {\n    return;\n  }\n  if (e.code === 'Escape') {\n    onModalOpenClose();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onModalOpenClose();\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$8j4eM","$d9de03cdbe7742bc$export$2e2bcd8739ae039","genres","genreIds","genresArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","id","_step","value","item","find","genre","push","name","_iterator","Symbol","iterator","next","done","_loop","err","return","length","join","$380b0ffef45c859b$export$2e2bcd8739ae039","data","map","param","title","genre_ids","release_date","first_air_date","poster_path","concat","$1vPUk","default","$aEGUz","$f0cc1a905acc1df1$var$PathHendler","$8MBJY","RequestHendler","this","requst","key","newPath","path","$f0cc1a905acc1df1$export$2e2bcd8739ae039","$545df89014c18ba4$var$BASE_URL","$545df89014c18ba4$var$API_KEY","$545df89014c18ba4$export$be063a400d042648","GetTrendingMovies","page","searchQuery","$parcel$interopDefault","$2TvXO","mark","_callee","url","response","trendings","_this","fetch","_ctx","sent","json","console","log","t0","searchedMovies","newPage","newQuery","$545df89014c18ba4$var$GetMovies","$545df89014c18ba4$var$container","document","querySelector","$545df89014c18ba4$var$markupRenderer","$545df89014c18ba4$var$_markupRenderer","apply","arguments","markup","searchGenres","searchTrendingFilms","results","innerHTML","$3RyMV","total_pages","GetTrendingSearcPath","$cUafD","hideSpinner","window","addEventListener","showSpinner","setTimeout","$545df89014c18ba4$export$2e2bcd8739ae039","$7a517ff7f65ca727$var$refs","searchForm","articlesContainer","txt","$7a517ff7f65ca727$var$moviesApiService","textContent","$7a517ff7f65ca727$var$_onSearch","e","preventDefault","classList","add","query","currentTarget","elements","fetchMovieSearch","$7a517ff7f65ca727$var$clearArticlesContainer","style","color","reset","resetPage","$7a517ff7f65ca727$var$appendHitsMarkup","$7a517ff7f65ca727$var$capitalizeQuery","GetMovieSearcPath","insertAdjacentHTML","text1","toUpperCase","slice","$e758586546d54e9d$var$_fetchData","$dIxxU","get","$iU1Pc","Notify","error","$e758586546d54e9d$export$2e2bcd8739ae039","$c727f4028b0840a3$var$container","$c727f4028b0840a3$var$pathToGanres","$c727f4028b0840a3$var$_getDataAndPutToRender","basePath","movies","markupListOfMovies","scrollTo","top","behavior","$c727f4028b0840a3$export$2e2bcd8739ae039","target","innerText","type","parseInt","$e7ca2713047d960b$var$refs","modalCloseBtn","backdrop","form","showLoginForm","login","singin","logout","beforeSinginContainer","logoutContainer","greetingText","$6Urw1","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","$e7ca2713047d960b$var$auth","$3SEMc","getAuth","$e7ca2713047d960b$var$onModalOpenClose","toggle","$e7ca2713047d960b$var$onError","failure","localStorage","getItem","event","_elements","email","password","sendEmail","sendPassword","signInWithEmailAndPassword","then","userCredential","user","success","setItem","catch","createUserWithEmailAndPassword","signOut","removeItem","contains","code"],"version":3,"file":"index.8286dd37.js.map"}